function goToPos(t,e,a){$wrap=$('<div style="margin-left:100%;" class="content new"></div>'),$i_wrap=$('<div class="content_innerwrap"></div>'),$wrap.append($i_wrap),$i_wrap.append("<h4>"+a.name+"</h4>"),$i_wrap.append(a.text),$i_wrap.append('<div class="read_more">'+a.readmore+"</div>"),$(".res-"+t+" .buynow").attr("href",a.buynow),$(".res-"+t+" .product_text .content.old").css({position:"absolute",top:"0px",left:"0px"}).fadeOut(function(){$(this).remove()}),$(".res-"+t+" .product_text").parents(".innerwrap").find(".product_text").append($wrap),$wrap.animate({"margin-left":"0%"},800,"easeOutExpo",function(){$(this).removeClass("new").addClass("old"),switch_product=0}),$(".res-"+t+" .product_img img").animate({"margin-left":"-800px","margin-right":"800px"},800,"easeInCubic",function(){var e=$(".res-"+t+" .product_img img").attr("src"),s=e.split("__"),r=s[0]+a.packshot;$(".res-"+t+" .product_img img").attr("src",r),$(this).delay(800).animate({"margin-left":"0px","margin-right":"0px"},800,"easeOutExpo",function(){switch_product=0})});var s=-200*e,r=100*e;$(".res-"+t+" .inner .products .itemwrap").animate({"margin-left":s+"px"}),$(".res-"+t+" .inner .products .prod-sel").animate({top:r+"px"},700,"easeInOutExpo")}var switch_product=0,Product=function(){var t=function(){var t=0;$(document).on("click",".res-container h2 img",function(){if($this=$(this).parents(".res-container"),!$this.hasClass("active")&&0==t){t=1;var e=$(".res-red").offset().top,a=0;$this.hasClass("res-red"),$this.hasClass("res-yellow")&&(e+=100),$this.hasClass("res-blue")&&(e+=200),$("body,html").animate({scrollTop:e+"px"},800,"easeInOutExpo"),$this.find("img.skew-content").animate({top:"0px"},800,"easeInOutExpo"),$(this).attr("src",$(this).attr("src").replace(".down.png",".png")),$this.find(".inner").slideDown(800,"easeInOutExpo",function(){$this.addClass("active"),t=0}),$(".res-container.active").hasClass("res-red")&&(a=-50),$(".res-container.active").hasClass("res-yellow")&&(a=-390),$(".res-container.active").hasClass("res-blue")&&(a=-280),$(".res-container.active > .skew-container > img.skew-content").animate({top:a+"px"},800,"easeInOutExpo"),$(".res-container.active h2 img").attr("src",$(".res-container.active h2 img").attr("src").replace(".png",".down.png")),$(".res-container.active .inner").slideUp(800,"easeInOutExpo",function(){$(this).parents(".res-container").removeClass("active")})}});var e;$.getJSON("public/assets/web/json/products.json",function(t){e=t});var a,s={red:{p:0,m:5},yellow:{p:0,m:6},blue:{p:0,m:4}},r=0;$(document).on("click",".res-container .inner .products .pag",function(){$this=$(this);var t=1,i=$this.parents(".products").attr("data-color");if($this.hasClass("arr_left")&&(t=-1),Number(s[i].p)+Number(t)>=0&&Number(s[i].p)+Number(t)<=Number(s[i].m)){s[i].p=Number(s[i].p)+Number(t);var n=$(".res-"+i+" .products .itemwrap .item:eq("+s[i].p+")").attr("data-id");0==switch_product&&n!=r&&(switch_product=1,$.each(e.products,function(t,e){e.id==n&&(r=e.id,a=e)}),s[i].p<0?s[i].p=0:s[i].p>s[i].m?s[i].p=s[i].m:(goToPos(i,s[i].p,a),setTimeout("switch_product=0;",1e3)))}});var i=!1;$(document).on("click",".res-container .inner .products .item",function(){$this=$(this);var t=$this.attr("data-id");if(0==switch_product&&($(window).width()>=768||i)&&t!=r){i=!1,switch_product=1;var a=$this.parents(".products").attr("data-color");s[a].p=$this.attr("data-nr"),$.each(e.products,function(e,i){i.id==t&&(r=i.id,goToPos(a,s[a].p,i),setTimeout("switch_product=0;",1e3))})}});var n=[0,0,0,0];$(document).on("click",".goto2",function(t){t.preventDefault(),$(".step_1 .left.side").animate({left:"-100%"},400,"easeInQuad"),$(".step_1 .right.side").animate({right:"-100%"},400,"easeInExpo"),$(".step_1 .text-container").delay(150).animate({left:"-120%"},400,"easeInExpo",function(){$(".step_2.quest").css("display","block"),$(".step_2 .side.left").delay(250).animate({right:"50%"},700,"easeOutExpo"),$(".step_2 .side.right").delay(250).animate({left:"50%"},700,"easeOutExpo"),$(".step_2 .side.right").delay(250).animate({left:"50%"},700,"easeOutExpo"),$(".site-main.product .step_2.quest .text-container").delay(400).animate({left:"0%"},1200,"easeOutExpo"),$(".site-main.product .step_2 > .button").delay(350).fadeIn(),$(".step_1").hide(0)}),$(".step_1 > .button").fadeOut()}),$(document).on("click",".goto_question",function(t){t.preventDefault(),$this=$(this);var e=Number($this.attr("data-question")),a=e+1,s=Number($this.attr("data-answer"));s=1==s?"a":"b",n[e-2]=s,$(".step_"+e+" .side.left").animate({right:"150%"},500,"easeInExpo"),$(".step_"+e+" .side.right").animate({left:"150%"},500,"easeInExpo"),$(".site-main.product .step_"+e+".quest .text-container").delay(400).animate({left:"-120%"},400,"easeInExpo",function(){if(6==a){for(var t=9,s=9,r=n.join(""),o=!1,p=new Array("aaaa","baaa","aabb","babb","baba"),c=new Array("aaab","aaba","abaa","bbaa","abbb","abba","abab"),d=new Array("bbba","bbab","bbbb","baab"),u=new Array(p,c,d),l=0;l<u.length;l++){for(var m=0;m<u[l].length;m++)if(r==u[l][m]){s=l,o=!0;break}if(o)break}t=Math.floor(0==s?6*Math.random():1==s?7*Math.random()+6:6*Math.random()+13);var h="";h=6>t?"red":13>t?"yellow":"blue",$(".res-container.res-"+h+" .wrap h2 img").attr("src",$(".res-container.res-"+h+" .wrap h2 img").attr("src").replace(".down.png",".png")),$(".res-container.res-"+h).addClass("active"),i=!0,$(".res-container.res-"+h+" .itemwrap .item[data-id="+t+"]").click(),$(".step_"+e+".quest").css("display","none"),$(".step_last").css("display","block"),$(".step_last").animate({top:"0"},800,"easeOutExpo",function(){var t=$(".res-red").offset().top;"yellow"==h&&(t+=100),"blue"==h&&(t+=200),$("body,html").animate({scrollTop:t+"px"},800,"easeInOutExpo")})}else $(".step_"+e+".quest").css("display","none"),$(".step_"+a+".quest").css("display","block"),$(".step_"+a+" .side.left").animate({right:"50%"},500,"easeOutExpo"),$(".step_"+a+" .side.right").animate({left:"50%"},500,"easeOutExpo"),$(".site-main.product .step_"+a+".quest .text-container").delay(150).animate({left:"0%"},1200,"easeOutExpo"),$(".site-main.product .step_"+a+" > .button").delay(350).fadeIn()}),$(".site-main.product .step_"+e+" > .button").delay(350).fadeOut()})};return t(),{init:t}}();
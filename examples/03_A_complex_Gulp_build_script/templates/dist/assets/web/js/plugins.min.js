!function(e){e.flexslider=function(t,a){var n=e(t);n.vars=e.extend({},e.flexslider.defaults,a);var i,s=n.vars.namespace,r=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,o=("ontouchstart"in window||r||window.DocumentTouch&&document instanceof DocumentTouch)&&n.vars.touch,l="click touchend MSPointerUp keyup",c="",d="vertical"===n.vars.direction,u=n.vars.reverse,v=n.vars.itemWidth>0,p="fade"===n.vars.animation,m=""!==n.vars.asNavFor,f={},g=!0;e.data(t,"flexslider",n),f={init:function(){n.animating=!1,n.currentSlide=parseInt(n.vars.startAt?n.vars.startAt:0,10),isNaN(n.currentSlide)&&(n.currentSlide=0),n.animatingTo=n.currentSlide,n.atEnd=0===n.currentSlide||n.currentSlide===n.last,n.containerSelector=n.vars.selector.substr(0,n.vars.selector.search(" ")),n.slides=e(n.vars.selector,n),n.container=e(n.containerSelector,n),n.count=n.slides.length,n.syncExists=e(n.vars.sync).length>0,"slide"===n.vars.animation&&(n.vars.animation="swing"),n.prop=d?"top":"marginLeft",n.args={},n.manualPause=!1,n.stopped=!1,n.started=!1,n.startTimeout=null,n.transitions=!n.vars.video&&!p&&n.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var a in t)if(void 0!==e.style[t[a]])return n.pfx=t[a].replace("Perspective","").toLowerCase(),n.prop="-"+n.pfx+"-transform",!0;return!1}(),n.ensureAnimationEnd="",""!==n.vars.controlsContainer&&(n.controlsContainer=e(n.vars.controlsContainer).length>0&&e(n.vars.controlsContainer)),""!==n.vars.manualControls&&(n.manualControls=e(n.vars.manualControls).length>0&&e(n.vars.manualControls)),n.vars.randomize&&(n.slides.sort(function(){return Math.round(Math.random())-.5}),n.container.empty().append(n.slides)),n.doMath(),n.setup("init"),n.vars.controlNav&&f.controlNav.setup(),n.vars.directionNav&&f.directionNav.setup(),n.vars.keyboard&&(1===e(n.containerSelector).length||n.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!n.animating&&(39===t||37===t)){var a=39===t?n.getTarget("next"):37===t?n.getTarget("prev"):!1;n.flexAnimate(a,n.vars.pauseOnAction)}}),n.vars.mousewheel&&n.bind("mousewheel",function(e,t){e.preventDefault();var a=n.getTarget(0>t?"next":"prev");n.flexAnimate(a,n.vars.pauseOnAction)}),n.vars.pausePlay&&f.pausePlay.setup(),n.vars.slideshow&&n.vars.pauseInvisible&&f.pauseInvisible.init(),n.vars.slideshow&&(n.vars.pauseOnHover&&n.hover(function(){n.manualPlay||n.manualPause||n.pause()},function(){n.manualPause||n.manualPlay||n.stopped||n.play()}),n.vars.pauseInvisible&&f.pauseInvisible.isHidden()||(n.vars.initDelay>0?n.startTimeout=setTimeout(n.play,n.vars.initDelay):n.play())),m&&f.asNav.setup(),o&&n.vars.touch&&f.touch(),(!p||p&&n.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",f.resize),n.find("img").attr("draggable","false"),setTimeout(function(){n.vars.start(n)},200)},asNav:{setup:function(){n.asNav=!0,n.animatingTo=Math.floor(n.currentSlide/n.move),n.currentItem=n.currentSlide,n.slides.removeClass(s+"active-slide").eq(n.currentItem).addClass(s+"active-slide"),r?(t._slider=n,n.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var a=e(this),i=a.index();e(n.vars.asNavFor).data("flexslider").animating||a.hasClass("active")||(n.direction=n.currentItem<i?"next":"prev",n.flexAnimate(i,n.vars.pauseOnAction,!1,!0,!0))})})):n.slides.on(l,function(t){t.preventDefault();var a=e(this),i=a.index(),r=a.offset().left-e(n).scrollLeft();0>=r&&a.hasClass(s+"active-slide")?n.flexAnimate(n.getTarget("prev"),!0):e(n.vars.asNavFor).data("flexslider").animating||a.hasClass(s+"active-slide")||(n.direction=n.currentItem<i?"next":"prev",n.flexAnimate(i,n.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){n.manualControls?f.controlNav.setupManual():f.controlNav.setupPaging()},setupPaging:function(){var t,a,i="thumbnails"===n.vars.controlNav?"control-thumbs":"control-paging",r=1;if(n.controlNavScaffold=e('<ol class="'+s+"control-nav "+s+i+'"></ol>'),n.pagingCount>1)for(var o=0;o<n.pagingCount;o++){if(a=n.slides.eq(o),t="thumbnails"===n.vars.controlNav?'<img src="'+a.attr("data-thumb")+'"/>':"<a>"+r+"</a>","thumbnails"===n.vars.controlNav&&!0===n.vars.thumbCaptions){var d=a.attr("data-thumbcaption");""!=d&&void 0!=d&&(t+='<span class="'+s+'caption">'+d+"</span>")}n.controlNavScaffold.append("<li>"+t+"</li>"),r++}n.controlsContainer?e(n.controlsContainer).append(n.controlNavScaffold):n.append(n.controlNavScaffold),f.controlNav.set(),f.controlNav.active(),n.controlNavScaffold.delegate("a, img",l,function(t){if(t.preventDefault(),""===c||c===t.type){var a=e(this),i=n.controlNav.index(a);a.hasClass(s+"active")||(n.direction=i>n.currentSlide?"next":"prev",n.flexAnimate(i,n.vars.pauseOnAction))}""===c&&(c=t.type),f.setToClearWatchedEvent()})},setupManual:function(){n.controlNav=n.manualControls,f.controlNav.active(),n.controlNav.bind(l,function(t){if(t.preventDefault(),""===c||c===t.type){var a=e(this),i=n.controlNav.index(a);a.hasClass(s+"active")||(n.direction=i>n.currentSlide?"next":"prev",n.flexAnimate(i,n.vars.pauseOnAction))}""===c&&(c=t.type),f.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===n.vars.controlNav?"img":"a";n.controlNav=e("."+s+"control-nav li "+t,n.controlsContainer?n.controlsContainer:n)},active:function(){n.controlNav.removeClass(s+"active").eq(n.animatingTo).addClass(s+"active")},update:function(t,a){n.pagingCount>1&&"add"===t?n.controlNavScaffold.append(e("<li><a>"+n.count+"</a></li>")):1===n.pagingCount?n.controlNavScaffold.find("li").remove():n.controlNav.eq(a).closest("li").remove(),f.controlNav.set(),n.pagingCount>1&&n.pagingCount!==n.controlNav.length?n.update(a,t):f.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+s+'direction-nav"><li><a class="'+s+'prev" href="#">'+n.vars.prevText+'</a></li><li><a class="'+s+'next" href="#">'+n.vars.nextText+"</a></li></ul>");n.controlsContainer?(e(n.controlsContainer).append(t),n.directionNav=e("."+s+"direction-nav li a",n.controlsContainer)):(n.append(t),n.directionNav=e("."+s+"direction-nav li a",n)),f.directionNav.update(),n.directionNav.bind(l,function(t){t.preventDefault();var a;(""===c||c===t.type)&&(a=n.getTarget(e(this).hasClass(s+"next")?"next":"prev"),n.flexAnimate(a,n.vars.pauseOnAction)),""===c&&(c=t.type),f.setToClearWatchedEvent()})},update:function(){var e=s+"disabled";1===n.pagingCount?n.directionNav.addClass(e).attr("tabindex","-1"):n.vars.animationLoop?n.directionNav.removeClass(e).removeAttr("tabindex"):0===n.animatingTo?n.directionNav.removeClass(e).filter("."+s+"prev").addClass(e).attr("tabindex","-1"):n.animatingTo===n.last?n.directionNav.removeClass(e).filter("."+s+"next").addClass(e).attr("tabindex","-1"):n.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+s+'pauseplay"><a></a></div>');n.controlsContainer?(n.controlsContainer.append(t),n.pausePlay=e("."+s+"pauseplay a",n.controlsContainer)):(n.append(t),n.pausePlay=e("."+s+"pauseplay a",n)),f.pausePlay.update(n.vars.slideshow?s+"pause":s+"play"),n.pausePlay.bind(l,function(t){t.preventDefault(),(""===c||c===t.type)&&(e(this).hasClass(s+"pause")?(n.manualPause=!0,n.manualPlay=!1,n.pause()):(n.manualPause=!1,n.manualPlay=!0,n.play())),""===c&&(c=t.type),f.setToClearWatchedEvent()})},update:function(e){"play"===e?n.pausePlay.removeClass(s+"pause").addClass(s+"play").html(n.vars.playText):n.pausePlay.removeClass(s+"play").addClass(s+"pause").html(n.vars.pauseText)}},touch:function(){function e(e){n.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(n.pause(),g=d?n.h:n.w,S=Number(new Date),x=e.touches[0].pageX,b=e.touches[0].pageY,f=v&&u&&n.animatingTo===n.last?0:v&&u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:v&&n.currentSlide===n.last?n.limit:v?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:u?(n.last-n.currentSlide+n.cloneOffset)*g:(n.currentSlide+n.cloneOffset)*g,c=d?b:x,m=d?x:b,t.addEventListener("touchmove",a,!1),t.addEventListener("touchend",i,!1))}function a(e){x=e.touches[0].pageX,b=e.touches[0].pageY,h=d?c-b:c-x,y=d?Math.abs(h)<Math.abs(x-m):Math.abs(h)<Math.abs(b-m);var t=500;(!y||Number(new Date)-S>t)&&(e.preventDefault(),!p&&n.transitions&&(n.vars.animationLoop||(h/=0===n.currentSlide&&0>h||n.currentSlide===n.last&&h>0?Math.abs(h)/g+2:1),n.setProps(f+h,"setTouch")))}function i(){if(t.removeEventListener("touchmove",a,!1),n.animatingTo===n.currentSlide&&!y&&null!==h){var e=u?-h:h,s=n.getTarget(e>0?"next":"prev");n.canAdvance(s)&&(Number(new Date)-S<550&&Math.abs(e)>50||Math.abs(e)>g/2)?n.flexAnimate(s,n.vars.pauseOnAction):p||n.flexAnimate(n.currentSlide,n.vars.pauseOnAction,!0)}t.removeEventListener("touchend",i,!1),c=null,m=null,h=null,f=null}function s(e){e.stopPropagation(),n.animating?e.preventDefault():(n.pause(),t._gesture.addPointer(e.pointerId),w=0,g=d?n.h:n.w,S=Number(new Date),f=v&&u&&n.animatingTo===n.last?0:v&&u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:v&&n.currentSlide===n.last?n.limit:v?(n.itemW+n.vars.itemMargin)*n.move*n.currentSlide:u?(n.last-n.currentSlide+n.cloneOffset)*g:(n.currentSlide+n.cloneOffset)*g)}function o(e){e.stopPropagation();var a=e.target._slider;if(a){var n=-e.translationX,i=-e.translationY;return w+=d?i:n,h=w,y=d?Math.abs(w)<Math.abs(-n):Math.abs(w)<Math.abs(-i),e.detail===e.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){t._gesture.stop()}):void((!y||Number(new Date)-S>500)&&(e.preventDefault(),!p&&a.transitions&&(a.vars.animationLoop||(h=w/(0===a.currentSlide&&0>w||a.currentSlide===a.last&&w>0?Math.abs(w)/g+2:1)),a.setProps(f+h,"setTouch"))))}}function l(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!y&&null!==h){var a=u?-h:h,n=t.getTarget(a>0?"next":"prev");t.canAdvance(n)&&(Number(new Date)-S<550&&Math.abs(a)>50||Math.abs(a)>g/2)?t.flexAnimate(n,t.vars.pauseOnAction):p||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}c=null,m=null,h=null,f=null,w=0}}var c,m,f,g,h,S,y=!1,x=0,b=0,w=0;r?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",s,!1),t._slider=n,t.addEventListener("MSGestureChange",o,!1),t.addEventListener("MSGestureEnd",l,!1)):t.addEventListener("touchstart",e,!1)},resize:function(){!n.animating&&n.is(":visible")&&(v||n.doMath(),p?f.smoothHeight():v?(n.slides.width(n.computedW),n.update(n.pagingCount),n.setProps()):d?(n.viewport.height(n.h),n.setProps(n.h,"setTotal")):(n.vars.smoothHeight&&f.smoothHeight(),n.newSlides.width(n.computedW),n.setProps(n.computedW,"setTotal")))},smoothHeight:function(e){if(!d||p){var t=p?n:n.viewport;e?t.animate({height:n.slides.eq(n.animatingTo).height()},e):t.height(n.slides.eq(n.animatingTo).height())}},sync:function(t){var a=e(n.vars.sync).data("flexslider"),i=n.animatingTo;switch(t){case"animate":a.flexAnimate(i,n.vars.pauseOnAction,!1,!0);break;case"play":a.playing||a.asNav||a.play();break;case"pause":a.pause()}},uniqueID:function(t){return t.filter("[id]").add(t.find("[id]")).each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)e[t]+"Hidden"in document&&(f.pauseInvisible.visProp=e[t]+"Hidden");if(f.pauseInvisible.visProp){var a=f.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(a,function(){f.pauseInvisible.isHidden()?n.startTimeout?clearTimeout(n.startTimeout):n.pause():n.started?n.play():n.vars.initDelay>0?setTimeout(n.play,n.vars.initDelay):n.play()})}},isHidden:function(){return document[f.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(i),i=setTimeout(function(){c=""},3e3)}},n.flexAnimate=function(t,a,i,r,l){if(n.vars.animationLoop||t===n.currentSlide||(n.direction=t>n.currentSlide?"next":"prev"),m&&1===n.pagingCount&&(n.direction=n.currentItem<t?"next":"prev"),!n.animating&&(n.canAdvance(t,l)||i)&&n.is(":visible")){if(m&&r){var c=e(n.vars.asNavFor).data("flexslider");if(n.atEnd=0===t||t===n.count-1,c.flexAnimate(t,!0,!1,!0,l),n.direction=n.currentItem<t?"next":"prev",c.direction=n.direction,Math.ceil((t+1)/n.visible)-1===n.currentSlide||0===t)return n.currentItem=t,n.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),!1;n.currentItem=t,n.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),t=Math.floor(t/n.visible)}if(n.animating=!0,n.animatingTo=t,a&&n.pause(),n.vars.before(n),n.syncExists&&!l&&f.sync("animate"),n.vars.controlNav&&f.controlNav.active(),v||n.slides.removeClass(s+"active-slide").eq(t).addClass(s+"active-slide"),n.atEnd=0===t||t===n.last,n.vars.directionNav&&f.directionNav.update(),t===n.last&&(n.vars.end(n),n.vars.animationLoop||n.pause()),p)o?(n.slides.eq(n.currentSlide).css({opacity:0,zIndex:1}),n.slides.eq(t).css({opacity:1,zIndex:2}),n.wrapup(y)):(n.slides.eq(n.currentSlide).css({zIndex:1}).animate({opacity:0},n.vars.animationSpeed,n.vars.easing),n.slides.eq(t).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing,n.wrapup));else{var g,h,S,y=d?n.slides.filter(":first").height():n.computedW;v?(g=n.vars.itemMargin,S=(n.itemW+g)*n.move*n.animatingTo,h=S>n.limit&&1!==n.visible?n.limit:S):h=0===n.currentSlide&&t===n.count-1&&n.vars.animationLoop&&"next"!==n.direction?u?(n.count+n.cloneOffset)*y:0:n.currentSlide===n.last&&0===t&&n.vars.animationLoop&&"prev"!==n.direction?u?0:(n.count+1)*y:u?(n.count-1-t+n.cloneOffset)*y:(t+n.cloneOffset)*y,n.setProps(h,"",n.vars.animationSpeed),n.transitions?(n.vars.animationLoop&&n.atEnd||(n.animating=!1,n.currentSlide=n.animatingTo),n.container.unbind("webkitTransitionEnd transitionend"),n.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(n.ensureAnimationEnd),n.wrapup(y)}),clearTimeout(n.ensureAnimationEnd),n.ensureAnimationEnd=setTimeout(function(){n.wrapup(y)},n.vars.animationSpeed+100)):n.container.animate(n.args,n.vars.animationSpeed,n.vars.easing,function(){n.wrapup(y)})}n.vars.smoothHeight&&f.smoothHeight(n.vars.animationSpeed)}},n.wrapup=function(e){p||v||(0===n.currentSlide&&n.animatingTo===n.last&&n.vars.animationLoop?n.setProps(e,"jumpEnd"):n.currentSlide===n.last&&0===n.animatingTo&&n.vars.animationLoop&&n.setProps(e,"jumpStart")),n.animating=!1,n.currentSlide=n.animatingTo,n.vars.after(n)},n.animateSlides=function(){!n.animating&&g&&n.flexAnimate(n.getTarget("next"))},n.pause=function(){clearInterval(n.animatedSlides),n.animatedSlides=null,n.playing=!1,n.vars.pausePlay&&f.pausePlay.update("play"),n.syncExists&&f.sync("pause")},n.play=function(){n.playing&&clearInterval(n.animatedSlides),n.animatedSlides=n.animatedSlides||setInterval(n.animateSlides,n.vars.slideshowSpeed),n.started=n.playing=!0,n.vars.pausePlay&&f.pausePlay.update("pause"),n.syncExists&&f.sync("play")},n.stop=function(){n.pause(),n.stopped=!0},n.canAdvance=function(e,t){var a=m?n.pagingCount-1:n.last;return t?!0:m&&n.currentItem===n.count-1&&0===e&&"prev"===n.direction?!0:m&&0===n.currentItem&&e===n.pagingCount-1&&"next"!==n.direction?!1:e!==n.currentSlide||m?n.vars.animationLoop?!0:n.atEnd&&0===n.currentSlide&&e===a&&"next"!==n.direction?!1:n.atEnd&&n.currentSlide===a&&0===e&&"next"===n.direction?!1:!0:!1},n.getTarget=function(e){return n.direction=e,"next"===e?n.currentSlide===n.last?0:n.currentSlide+1:0===n.currentSlide?n.last:n.currentSlide-1},n.setProps=function(e,t,a){var i=function(){var a=e?e:(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo,i=function(){if(v)return"setTouch"===t?e:u&&n.animatingTo===n.last?0:u?n.limit-(n.itemW+n.vars.itemMargin)*n.move*n.animatingTo:n.animatingTo===n.last?n.limit:a;switch(t){case"setTotal":return u?(n.count-1-n.currentSlide+n.cloneOffset)*e:(n.currentSlide+n.cloneOffset)*e;case"setTouch":return u?e:e;case"jumpEnd":return u?e:n.count*e;case"jumpStart":return u?n.count*e:e;default:return e}}();return-1*i+"px"}();n.transitions&&(i=d?"translate3d(0,"+i+",0)":"translate3d("+i+",0,0)",a=void 0!==a?a/1e3+"s":"0s",n.container.css("-"+n.pfx+"-transition-duration",a),n.container.css("transition-duration",a)),n.args[n.prop]=i,(n.transitions||void 0===a)&&n.container.css(n.args),n.container.css("transform",i)},n.setup=function(t){if(p)n.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(o?n.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+n.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(n.currentSlide).css({opacity:1,zIndex:2}):0==n.vars.fadeFirstSlide?n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).css({opacity:1}):n.slides.css({opacity:0,display:"block",zIndex:1}).eq(n.currentSlide).css({zIndex:2}).animate({opacity:1},n.vars.animationSpeed,n.vars.easing)),n.vars.smoothHeight&&f.smoothHeight();else{var a,i;"init"===t&&(n.viewport=e('<div class="'+s+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(n).append(n.container),n.cloneCount=0,n.cloneOffset=0,u&&(i=e.makeArray(n.slides).reverse(),n.slides=e(i),n.container.empty().append(n.slides))),n.vars.animationLoop&&!v&&(n.cloneCount=2,n.cloneOffset=1,"init"!==t&&n.container.find(".clone").remove(),n.container.append(f.uniqueID(n.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(f.uniqueID(n.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),n.newSlides=e(n.vars.selector,n),a=u?n.count-1-n.currentSlide+n.cloneOffset:n.currentSlide+n.cloneOffset,d&&!v?(n.container.height(200*(n.count+n.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){n.newSlides.css({display:"block"}),n.doMath(),n.viewport.height(n.h),n.setProps(a*n.h,"init")},"init"===t?100:0)):(n.container.width(200*(n.count+n.cloneCount)+"%"),n.setProps(a*n.computedW,"init"),setTimeout(function(){n.doMath(),n.newSlides.css({width:n.computedW,"float":"left",display:"block"}),n.vars.smoothHeight&&f.smoothHeight()},"init"===t?100:0))}v||n.slides.removeClass(s+"active-slide").eq(n.currentSlide).addClass(s+"active-slide"),n.vars.init(n)},n.doMath=function(){var e=n.slides.first(),t=n.vars.itemMargin,a=n.vars.minItems,i=n.vars.maxItems;n.w=void 0===n.viewport?n.width():n.viewport.width(),n.h=e.height(),n.boxPadding=e.outerWidth()-e.width(),v?(n.itemT=n.vars.itemWidth+t,n.minW=a?a*n.itemT:n.w,n.maxW=i?i*n.itemT-t:n.w,n.itemW=n.minW>n.w?(n.w-t*(a-1))/a:n.maxW<n.w?(n.w-t*(i-1))/i:n.vars.itemWidth>n.w?n.w:n.vars.itemWidth,n.visible=Math.floor(n.w/n.itemW),n.move=n.vars.move>0&&n.vars.move<n.visible?n.vars.move:n.visible,n.pagingCount=Math.ceil((n.count-n.visible)/n.move+1),n.last=n.pagingCount-1,n.limit=1===n.pagingCount?0:n.vars.itemWidth>n.w?n.itemW*(n.count-1)+t*(n.count-1):(n.itemW+t)*n.count-n.w-t):(n.itemW=n.w,n.pagingCount=n.count,n.last=n.count-1),n.computedW=n.itemW-n.boxPadding},n.update=function(e,t){n.doMath(),v||(e<n.currentSlide?n.currentSlide+=1:e<=n.currentSlide&&0!==e&&(n.currentSlide-=1),n.animatingTo=n.currentSlide),n.vars.controlNav&&!n.manualControls&&("add"===t&&!v||n.pagingCount>n.controlNav.length?f.controlNav.update("add"):("remove"===t&&!v||n.pagingCount<n.controlNav.length)&&(v&&n.currentSlide>n.last&&(n.currentSlide-=1,n.animatingTo-=1),f.controlNav.update("remove",n.last))),n.vars.directionNav&&f.directionNav.update()},n.addSlide=function(t,a){var i=e(t);n.count+=1,n.last=n.count-1,d&&u?void 0!==a?n.slides.eq(n.count-a).after(i):n.container.prepend(i):void 0!==a?n.slides.eq(a).before(i):n.container.append(i),n.update(a,"add"),n.slides=e(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.added(n)},n.removeSlide=function(t){var a=isNaN(t)?n.slides.index(e(t)):t;n.count-=1,n.last=n.count-1,isNaN(t)?e(t,n.slides).remove():d&&u?n.slides.eq(n.last).remove():n.slides.eq(t).remove(),n.doMath(),n.update(a,"remove"),n.slides=e(n.vars.selector+":not(.clone)",n),n.setup(),n.vars.removed(n)},f.init()},e(window).blur(function(){focused=!1}).focus(function(){focused=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var a=e(this),n=t.selector?t.selector:".slides > li",i=a.find(n);1===i.length&&t.allowOneSlide===!0||0===i.length?(i.fadeIn(400),t.start&&t.start(a)):void 0===a.data("flexslider")&&new e.flexslider(this,t)});var a=e(this).data("flexslider");switch(t){case"play":a.play();break;case"pause":a.pause();break;case"stop":a.stop();break;case"next":a.flexAnimate(a.getTarget("next"),!0);break;case"prev":case"previous":a.flexAnimate(a.getTarget("prev"),!0);break;default:"number"==typeof t&&a.flexAnimate(t,!0)}}}(jQuery);var name="A jQuery Plugin";
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsdWdpbnMuanMiXSwibmFtZXMiOlsiJCIsImZsZXhzbGlkZXIiLCJlbCIsIm9wdGlvbnMiLCJzbGlkZXIiLCJ2YXJzIiwiZXh0ZW5kIiwiZGVmYXVsdHMiLCJ3YXRjaGVkRXZlbnRDbGVhclRpbWVyIiwibmFtZXNwYWNlIiwibXNHZXN0dXJlIiwid2luZG93IiwibmF2aWdhdG9yIiwibXNQb2ludGVyRW5hYmxlZCIsIk1TR2VzdHVyZSIsInRvdWNoIiwiRG9jdW1lbnRUb3VjaCIsImRvY3VtZW50IiwiZXZlbnRUeXBlIiwid2F0Y2hlZEV2ZW50IiwidmVydGljYWwiLCJkaXJlY3Rpb24iLCJyZXZlcnNlIiwiY2Fyb3VzZWwiLCJpdGVtV2lkdGgiLCJmYWRlIiwiYW5pbWF0aW9uIiwiYXNOYXYiLCJhc05hdkZvciIsIm1ldGhvZHMiLCJmb2N1c2VkIiwiZGF0YSIsImluaXQiLCJhbmltYXRpbmciLCJjdXJyZW50U2xpZGUiLCJwYXJzZUludCIsInN0YXJ0QXQiLCJpc05hTiIsImFuaW1hdGluZ1RvIiwiYXRFbmQiLCJsYXN0IiwiY29udGFpbmVyU2VsZWN0b3IiLCJzZWxlY3RvciIsInN1YnN0ciIsInNlYXJjaCIsInNsaWRlcyIsImNvbnRhaW5lciIsImNvdW50IiwibGVuZ3RoIiwic3luY0V4aXN0cyIsInN5bmMiLCJwcm9wIiwiYXJncyIsIm1hbnVhbFBhdXNlIiwic3RvcHBlZCIsInN0YXJ0ZWQiLCJzdGFydFRpbWVvdXQiLCJ0cmFuc2l0aW9ucyIsInZpZGVvIiwidXNlQ1NTIiwib2JqIiwiY3JlYXRlRWxlbWVudCIsInByb3BzIiwiaSIsInVuZGVmaW5lZCIsInN0eWxlIiwicGZ4IiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwiZW5zdXJlQW5pbWF0aW9uRW5kIiwiY29udHJvbHNDb250YWluZXIiLCJtYW51YWxDb250cm9scyIsInJhbmRvbWl6ZSIsInNvcnQiLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJlbXB0eSIsImFwcGVuZCIsImRvTWF0aCIsInNldHVwIiwiY29udHJvbE5hdiIsImRpcmVjdGlvbk5hdiIsImtleWJvYXJkIiwibXVsdGlwbGVLZXlib2FyZCIsImJpbmQiLCJldmVudCIsImtleWNvZGUiLCJrZXlDb2RlIiwidGFyZ2V0IiwiZ2V0VGFyZ2V0IiwiZmxleEFuaW1hdGUiLCJwYXVzZU9uQWN0aW9uIiwibW91c2V3aGVlbCIsImRlbHRhIiwicHJldmVudERlZmF1bHQiLCJwYXVzZVBsYXkiLCJzbGlkZXNob3ciLCJwYXVzZUludmlzaWJsZSIsInBhdXNlT25Ib3ZlciIsImhvdmVyIiwibWFudWFsUGxheSIsInBhdXNlIiwicGxheSIsImlzSGlkZGVuIiwiaW5pdERlbGF5Iiwic2V0VGltZW91dCIsInNtb290aEhlaWdodCIsInJlc2l6ZSIsImZpbmQiLCJhdHRyIiwic3RhcnQiLCJmbG9vciIsIm1vdmUiLCJjdXJyZW50SXRlbSIsInJlbW92ZUNsYXNzIiwiZXEiLCJhZGRDbGFzcyIsIl9zbGlkZXIiLCJlYWNoIiwidGhhdCIsInRoaXMiLCJfZ2VzdHVyZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiY3VycmVudFRhcmdldCIsImFkZFBvaW50ZXIiLCJwb2ludGVySWQiLCIkc2xpZGUiLCJpbmRleCIsImhhc0NsYXNzIiwib24iLCJwb3NGcm9tTGVmdCIsIm9mZnNldCIsImxlZnQiLCJzY3JvbGxMZWZ0Iiwic2V0dXBNYW51YWwiLCJzZXR1cFBhZ2luZyIsIml0ZW0iLCJzbGlkZSIsInR5cGUiLCJqIiwiY29udHJvbE5hdlNjYWZmb2xkIiwicGFnaW5nQ291bnQiLCJ0aHVtYkNhcHRpb25zIiwiY2FwdG4iLCJzZXQiLCJhY3RpdmUiLCJkZWxlZ2F0ZSIsIiR0aGlzIiwic2V0VG9DbGVhcldhdGNoZWRFdmVudCIsInVwZGF0ZSIsImFjdGlvbiIsInBvcyIsInJlbW92ZSIsImNsb3Nlc3QiLCJkaXJlY3Rpb25OYXZTY2FmZm9sZCIsInByZXZUZXh0IiwibmV4dFRleHQiLCJkaXNhYmxlZENsYXNzIiwiYW5pbWF0aW9uTG9vcCIsInJlbW92ZUF0dHIiLCJmaWx0ZXIiLCJwYXVzZVBsYXlTY2FmZm9sZCIsInN0YXRlIiwiaHRtbCIsInBsYXlUZXh0IiwicGF1c2VUZXh0Iiwib25Ub3VjaFN0YXJ0IiwidG91Y2hlcyIsImN3aWR0aCIsImgiLCJ3Iiwic3RhcnRUIiwiTnVtYmVyIiwiRGF0ZSIsImxvY2FsWCIsInBhZ2VYIiwibG9jYWxZIiwicGFnZVkiLCJsaW1pdCIsIml0ZW1XIiwiaXRlbU1hcmdpbiIsImNsb25lT2Zmc2V0Iiwic3RhcnRYIiwic3RhcnRZIiwib25Ub3VjaE1vdmUiLCJvblRvdWNoRW5kIiwiZHgiLCJzY3JvbGxpbmciLCJhYnMiLCJmeG1zIiwic2V0UHJvcHMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidXBkYXRlRHgiLCJjYW5BZHZhbmNlIiwib25NU1BvaW50ZXJEb3duIiwic3RvcFByb3BhZ2F0aW9uIiwiYWNjRHgiLCJvbk1TR2VzdHVyZUNoYW5nZSIsInRyYW5zWCIsInRyYW5zbGF0aW9uWCIsInRyYW5zWSIsInRyYW5zbGF0aW9uWSIsImRldGFpbCIsIk1TR0VTVFVSRV9GTEFHX0lORVJUSUEiLCJzZXRJbW1lZGlhdGUiLCJzdG9wIiwib25NU0dlc3R1cmVFbmQiLCJtc1RvdWNoQWN0aW9uIiwiaXMiLCJ3aWR0aCIsImNvbXB1dGVkVyIsInZpZXdwb3J0IiwiaGVpZ2h0IiwibmV3U2xpZGVzIiwiZHVyIiwiJG9iaiIsImFuaW1hdGUiLCJwbGF5aW5nIiwidW5pcXVlSUQiLCIkY2xvbmUiLCJhZGQiLCJ2aXNQcm9wIiwicHJlZml4ZXMiLCJldnRuYW1lIiwiY2xlYXJUaW1lb3V0Iiwib3ZlcnJpZGUiLCJ3aXRoU3luYyIsImZyb21OYXYiLCJtYXN0ZXIiLCJjZWlsIiwidmlzaWJsZSIsImJlZm9yZSIsImVuZCIsImNzcyIsIm9wYWNpdHkiLCJ6SW5kZXgiLCJ3cmFwdXAiLCJkaW1lbnNpb24iLCJhbmltYXRpb25TcGVlZCIsImVhc2luZyIsIm1hcmdpbiIsInNsaWRlU3RyaW5nIiwiY2FsY05leHQiLCJ1bmJpbmQiLCJhZnRlciIsImFuaW1hdGVTbGlkZXMiLCJjbGVhckludGVydmFsIiwiYW5pbWF0ZWRTbGlkZXMiLCJzZXRJbnRlcnZhbCIsInNsaWRlc2hvd1NwZWVkIiwiZGlyIiwic3BlY2lhbCIsInBvc0NoZWNrIiwicG9zQ2FsYyIsImZsb2F0IiwibWFyZ2luUmlnaHQiLCJwb3NpdGlvbiIsImRpc3BsYXkiLCJ3ZWJraXRUcmFuc2l0aW9uIiwiZmFkZUZpcnN0U2xpZGUiLCJzbGlkZXJPZmZzZXQiLCJhcnIiLCJvdmVyZmxvdyIsImFwcGVuZFRvIiwiY2xvbmVDb3VudCIsIm1ha2VBcnJheSIsImZpcnN0IiwiY2xvbmUiLCJwcmVwZW5kIiwic2xpZGVNYXJnaW4iLCJtaW5JdGVtcyIsIm1heEl0ZW1zIiwiYm94UGFkZGluZyIsIm91dGVyV2lkdGgiLCJpdGVtVCIsIm1pblciLCJtYXhXIiwiYWRkU2xpZGUiLCJhZGRlZCIsInJlbW92ZVNsaWRlIiwicmVtb3ZlZCIsImJsdXIiLCJmb2N1cyIsImFsbG93T25lU2xpZGUiLCJmbiIsIiRzbGlkZXMiLCJmYWRlSW4iLCIkc2xpZGVyIiwialF1ZXJ5IiwibmFtZSJdLCJtYXBwaW5ncyI6IkNBT0EsU0FBV0EsR0FHVEEsRUFBRUMsV0FBYSxTQUFTQyxFQUFJQyxHQUMxQixHQUFJQyxHQUFTSixFQUFFRSxFQUdmRSxHQUFPQyxLQUFPTCxFQUFFTSxVQUFXTixFQUFFQyxXQUFXTSxTQUFVSixFQUVsRCxJQU9JSyxHQVBBQyxFQUFZTCxFQUFPQyxLQUFLSSxVQUN4QkMsRUFBWUMsT0FBT0MsV0FBYUQsT0FBT0MsVUFBVUMsa0JBQW9CRixPQUFPRyxVQUM1RUMsR0FBVyxnQkFBa0JKLFNBQVlELEdBQWFDLE9BQU9LLGVBQWlCQyxtQkFBb0JELGlCQUFrQlosRUFBT0MsS0FBS1UsTUFHaElHLEVBQVksbUNBQ1pDLEVBQWUsR0FFZkMsRUFBcUMsYUFBMUJoQixFQUFPQyxLQUFLZ0IsVUFDdkJDLEVBQVVsQixFQUFPQyxLQUFLaUIsUUFDdEJDLEVBQVluQixFQUFP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WjdELElBQXVCQSxNQUVKLGdCQUFaQSxHQUNULE1BQU9zSCxNQUFLRixLQUFLLFdBQ2YsR0FBSThCLEdBQVFySixFQUFFeUgsTUFDVi9FLEVBQVl2QyxFQUFnQixTQUFJQSxFQUFRdUMsU0FBVyxlQUNuRHFQLEVBQVUxSSxFQUFNeEMsS0FBS25FLEVBRUQsS0FBbkJxUCxFQUFRL08sUUFBZ0I3QyxFQUFRMFIsaUJBQWtCLEdBQTZCLElBQW5CRSxFQUFRL08sUUFDdkUrTyxFQUFRQyxPQUFPLEtBQ1g3UixFQUFRNEcsT0FBTzVHLEVBQVE0RyxNQUFNc0MsSUFDS3JGLFNBQTdCcUYsRUFBTXRILEtBQUssZUFDcEIsR0FBSS9CLEdBQUVDLFdBQVd3SCxLQUFNdEgsSUFLM0IsSUFBSThSLEdBQVVqUyxFQUFFeUgsTUFBTTFGLEtBQUssYUFDM0IsUUFBUTVCLEdBQ04sSUFBSyxPQUFROFIsRUFBUTFMLE1BQVEsTUFDN0IsS0FBSyxRQUFTMEwsRUFBUTNMLE9BQVMsTUFDL0IsS0FBSyxPQUFRMkwsRUFBUWxGLE1BQVEsTUFDN0IsS0FBSyxPQUFRa0YsRUFBUXRNLFlBQVlzTSxFQUFRdk0sVUFBVSxTQUFTLEVBQU8sTUFDbkUsS0FBSyxPQUNMLElBQUssV0FBWXVNLEVBQVF0TSxZQUFZc00sRUFBUXZNLFVBQVUsU0FBUyxFQUFPLE1BQ3ZFLFNBQWdDLGdCQUFadkYsSUFBc0I4UixFQUFRdE0sWUFBWXhGLEdBQVMsTUFJNUUrUixPQU1ILElBQUlDLE1BQU8iLCJmaWxlIjoicGx1Z2lucy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbmNsdWRlIEJvd2VyIFBsdWdpbnNcbi8qXG4gKiBqUXVlcnkgRmxleFNsaWRlciB2Mi4yLjJcbiAqIENvcHlyaWdodCAyMDEyIFdvb1RoZW1lc1xuICogQ29udHJpYnV0aW5nIEF1dGhvcjogVHlsZXIgU21pdGhcbiAqL1xuO1xuKGZ1bmN0aW9uICgkKSB7XG5cbiAgLy9GbGV4U2xpZGVyOiBPYmplY3QgSW5zdGFuY2VcbiAgJC5mbGV4c2xpZGVyID0gZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcbiAgICB2YXIgc2xpZGVyID0gJChlbCk7XG5cbiAgICAvLyBtYWtpbmcgdmFyaWFibGVzIHB1YmxpY1xuICAgIHNsaWRlci52YXJzID0gJC5leHRlbmQoe30sICQuZmxleHNsaWRlci5kZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICB2YXIgbmFtZXNwYWNlID0gc2xpZGVyLnZhcnMubmFtZXNwYWNlLFxuICAgICAgICBtc0dlc3R1cmUgPSB3aW5kb3cubmF2aWdhdG9yICYmIHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCAmJiB3aW5kb3cuTVNHZXN0dXJlLFxuICAgICAgICB0b3VjaCA9ICgoIFwib250b3VjaHN0YXJ0XCIgaW4gd2luZG93ICkgfHwgbXNHZXN0dXJlIHx8IHdpbmRvdy5Eb2N1bWVudFRvdWNoICYmIGRvY3VtZW50IGluc3RhbmNlb2YgRG9jdW1lbnRUb3VjaCkgJiYgc2xpZGVyLnZhcnMudG91Y2gsXG4gICAgICAgIC8vIGRlcHJpY2F0aW5nIHRoaXMgaWRlYSwgYXMgZGV2aWNlcyBhcmUgYmVpbmcgcmVsZWFzZWQgd2l0aCBib3RoIG9mIHRoZXNlIGV2ZW50c1xuICAgICAgICAvL2V2ZW50VHlwZSA9ICh0b3VjaCkgPyBcInRvdWNoZW5kXCIgOiBcImNsaWNrXCIsXG4gICAgICAgIGV2ZW50VHlwZSA9IFwiY2xpY2sgdG91Y2hlbmQgTVNQb2ludGVyVXAga2V5dXBcIixcbiAgICAgICAgd2F0Y2hlZEV2ZW50ID0gXCJcIixcbiAgICAgICAgd2F0Y2hlZEV2ZW50Q2xlYXJUaW1lcixcbiAgICAgICAgdmVydGljYWwgPSBzbGlkZXIudmFycy5kaXJlY3Rpb24gPT09IFwidmVydGljYWxcIixcbiAgICAgICAgcmV2ZXJzZSA9IHNsaWRlci52YXJzLnJldmVyc2UsXG4gICAgICAgIGNhcm91c2VsID0gKHNsaWRlci52YXJzLml0ZW1XaWR0aCA+IDApLFxuICAgICAgICBmYWRlID0gc2xpZGVyLnZhcnMuYW5pbWF0aW9uID09PSBcImZhZGVcIixcbiAgICAgICAgYXNOYXYgPSBzbGlkZXIudmFycy5hc05hdkZvciAhPT0gXCJcIixcbiAgICAgICAgbWV0aG9kcyA9IHt9LFxuICAgICAgICBmb2N1c2VkID0gdHJ1ZTtcblxuICAgIC8vIFN0b3JlIGEgcmVmZXJlbmNlIHRvIHRoZSBzbGlkZXIgb2JqZWN0XG4gICAgJC5kYXRhKGVsLCBcImZsZXhzbGlkZXJcIiwgc2xpZGVyKTtcblxuICAgIC8vIFByaXZhdGUgc2xpZGVyIG1ldGhvZHNcbiAgICBtZXRob2RzID0ge1xuICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHNsaWRlci5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gR2V0IGN1cnJlbnQgc2xpZGUgYW5kIG1ha2Ugc3VyZSBpdCBpcyBhIG51bWJlclxuICAgICAgICBzbGlkZXIuY3VycmVudFNsaWRlID0gcGFyc2VJbnQoICggc2xpZGVyLnZhcnMuc3RhcnRBdCA/IHNsaWRlci52YXJzLnN0YXJ0QXQgOiAwKSwgMTAgKTtcbiAgICAgICAgaWYgKCBpc05hTiggc2xpZGVyLmN1cnJlbnRTbGlkZSApICkgc2xpZGVyLmN1cnJlbnRTbGlkZSA9IDA7XG4gICAgICAgIHNsaWRlci5hbmltYXRpbmdUbyA9IHNsaWRlci5jdXJyZW50U2xpZGU7XG4gICAgICAgIHNsaWRlci5hdEVuZCA9IChzbGlkZXIuY3VycmVudFNsaWRlID09PSAwIHx8IHNsaWRlci5jdXJyZW50U2xpZGUgPT09IHNsaWRlci5sYXN0KTtcbiAgICAgICAgc2xpZGVyLmNvbnRhaW5lclNlbGVjdG9yID0gc2xpZGVyLnZhcnMuc2VsZWN0b3Iuc3Vic3RyKDAsc2xpZGVyLnZhcnMuc2VsZWN0b3Iuc2VhcmNoKCcgJykpO1xuICAgICAgICBzbGlkZXIuc2xpZGVzID0gJChzbGlkZXIudmFycy5zZWxlY3Rvciwgc2xpZGVyKTtcbiAgICAgICAgc2xpZGVyLmNvbnRhaW5lciA9ICQoc2xpZGVyLmNvbnRhaW5lclNlbGVjdG9yLCBzbGlkZXIpO1xuICAgICAgICBzbGlkZXIuY291bnQgPSBzbGlkZXIuc2xpZGVzLmxlbmd0aDtcbiAgICAgICAgLy8gU1lOQzpcbiAgICAgICAgc2xpZGVyLnN5bmNFeGlzdHMgPSAkKHNsaWRlci52YXJzLnN5bmMpLmxlbmd0aCA+IDA7XG4gICAgICAgIC8vIFNMSURFOlxuICAgICAgICBpZiAoc2xpZGVyLnZhcnMuYW5pbWF0aW9uID09PSBcInNsaWRlXCIpIHNsaWRlci52YXJzLmFuaW1hdGlvbiA9IFwic3dpbmdcIjtcbiAgICAgICAgc2xpZGVyLnByb3AgPSAodmVydGljYWwpID8gXCJ0b3BcIiA6IFwibWFyZ2luTGVmdFwiO1xuICAgICAgICBzbGlkZXIuYXJncyA9IHt9O1xuICAgICAgICAvLyBTTElERVNIT1c6XG4gICAgICAgIHNsaWRlci5tYW51YWxQYXVzZSA9IGZhbHNlO1xuICAgICAgICBzbGlkZXIuc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICAvL1BBVVNFIFdIRU4gSU5WSVNJQkxFXG4gICAgICAgIHNsaWRlci5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHNsaWRlci5zdGFydFRpbWVvdXQgPSBudWxsO1xuICAgICAgICAvLyBUT1VDSC9VU0VDU1M6XG4gICAgICAgIHNsaWRlci50cmFuc2l0aW9ucyA9ICFzbGlkZXIudmFycy52aWRlbyAmJiAhZmFkZSAmJiBzbGlkZXIudmFycy51c2VDU1MgJiYgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBvYmogPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgICAgICAgcHJvcHMgPSBbJ3BlcnNwZWN0aXZlUHJvcGVydHknLCAnV2Via2l0UGVyc3BlY3RpdmUnLCAnTW96UGVyc3BlY3RpdmUnLCAnT1BlcnNwZWN0aXZlJywgJ21zUGVyc3BlY3RpdmUnXTtcbiAgICAgICAgICBmb3IgKHZhciBpIGluIHByb3BzKSB7XG4gICAgICAgICAgICBpZiAoIG9iai5zdHlsZVsgcHJvcHNbaV0gXSAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgICBzbGlkZXIucGZ4ID0gcHJvcHNbaV0ucmVwbGFjZSgnUGVyc3BlY3RpdmUnLCcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICBzbGlkZXIucHJvcCA9IFwiLVwiICsgc2xpZGVyLnBmeCArIFwiLXRyYW5zZm9ybVwiO1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KCkpO1xuICAgICAgICBzbGlkZXIuZW5zdXJlQW5pbWF0aW9uRW5kID0gJyc7XG4gICAgICAgIC8vIENPTlRST0xTQ09OVEFJTkVSOlxuICAgICAgICBpZiAoc2xpZGVyLnZhcnMuY29udHJvbHNDb250YWluZXIgIT09IFwiXCIpIHNsaWRlci5jb250cm9sc0NvbnRhaW5lciA9ICQoc2xpZGVyLnZhcnMuY29udHJvbHNDb250YWluZXIpLmxlbmd0aCA+IDAgJiYgJChzbGlkZXIudmFycy5jb250cm9sc0NvbnRhaW5lcik7XG4gICAgICAgIC8vIE1BTlVBTDpcbiAgICAgICAgaWYgKHNsaWRlci52YXJzLm1hbnVhbENvbnRyb2xzICE9PSBcIlwiKSBzbGlkZXIubWFudWFsQ29udHJvbHMgPSAkKHNsaWRlci52YXJzLm1hbnVhbENvbnRyb2xzKS5sZW5ndGggPiAwICYmICQoc2xpZGVyLnZhcnMubWFudWFsQ29udHJvbHMpO1xuXG4gICAgICAgIC8vIFJBTkRPTUlaRTpcbiAgICAgICAgaWYgKHNsaWRlci52YXJzLnJhbmRvbWl6ZSkge1xuICAgICAgICAgIHNsaWRlci5zbGlkZXMuc29ydChmdW5jdGlvbigpIHsgcmV0dXJuIChNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpLTAuNSk7IH0pO1xuICAgICAgICAgIHNsaWRlci5jb250YWluZXIuZW1wdHkoKS5hcHBlbmQoc2xpZGVyLnNsaWRlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBzbGlkZXIuZG9NYXRoKCk7XG5cbiAgICAgICAgLy8gSU5JVFxuICAgICAgICBzbGlkZXIuc2V0dXAoXCJpbml0XCIpO1xuXG4gICAgICAgIC8vIENPTlRST0xOQVY6XG4gICAgICAgIGlmIChzbGlkZXIudmFycy5jb250cm9sTmF2KSBtZXRob2RzLmNvbnRyb2xOYXYuc2V0dXAoKTtcblxuICAgICAgICAvLyBESVJFQ1RJT05OQVY6XG4gICAgICAgIGlmIChzbGlkZXIudmFycy5kaXJlY3Rpb25OYXYpIG1ldGhvZHMuZGlyZWN0aW9uTmF2LnNldHVwKCk7XG5cbiAgICAgICAgLy8gS0VZQk9BUkQ6XG4gICAgICAgIGlmIChzbGlkZXIudmFycy5rZXlib2FyZCAmJiAoJChzbGlkZXIuY29udGFpbmVyU2VsZWN0b3IpLmxlbmd0aCA9PT0gMSB8fCBzbGlkZXIudmFycy5tdWx0aXBsZUtleWJvYXJkKSkge1xuICAgICAgICAgICQoZG9jdW1lbnQpLmJpbmQoJ2tleXVwJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBrZXljb2RlID0gZXZlbnQua2V5Q29kZTtcbiAgICAgICAgICAgIGlmICghc2xpZGVyLmFuaW1hdGluZyAmJiAoa2V5Y29kZSA9PT0gMzkgfHwga2V5Y29kZSA9PT0gMzcpKSB7XG4gICAgICAgICAgICAgIHZhciB0YXJnZXQgPSAoa2V5Y29kZSA9PT0gMzkpID8gc2xpZGVyLmdldFRhcmdldCgnbmV4dCcpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIChrZXljb2RlID09PSAzNykgPyBzbGlkZXIuZ2V0VGFyZ2V0KCdwcmV2JykgOiBmYWxzZTtcbiAgICAgICAgICAgICAgc2xpZGVyLmZsZXhBbmltYXRlKHRhcmdldCwgc2xpZGVyLnZhcnMucGF1c2VPbkFjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTU9VU0VXSEVFTDpcbiAgICAgICAgaWYgKHNsaWRlci52YXJzLm1vdXNld2hlZWwpIHtcbiAgICAgICAgICBzbGlkZXIuYmluZCgnbW91c2V3aGVlbCcsIGZ1bmN0aW9uKGV2ZW50LCBkZWx0YSwgZGVsdGFYLCBkZWx0YVkpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gKGRlbHRhIDwgMCkgPyBzbGlkZXIuZ2V0VGFyZ2V0KCduZXh0JykgOiBzbGlkZXIuZ2V0VGFyZ2V0KCdwcmV2Jyk7XG4gICAgICAgICAgICBzbGlkZXIuZmxleEFuaW1hdGUodGFyZ2V0LCBzbGlkZXIudmFycy5wYXVzZU9uQWN0aW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBBVVNFUExBWVxuICAgICAgICBpZiAoc2xpZGVyLnZhcnMucGF1c2VQbGF5KSBtZXRob2RzLnBhdXNlUGxheS5zZXR1cCgpO1xuXG4gICAgICAgIC8vUEFVU0UgV0hFTiBJTlZJU0lCTEVcbiAgICAgICAgaWYgKHNsaWRlci52YXJzLnNsaWRlc2hvdyAmJiBzbGlkZXIudmFycy5wYXVzZUludmlzaWJsZSkgbWV0aG9kcy5wYXVzZUludmlzaWJsZS5pbml0KCk7XG5cbiAgICAgICAgLy8gU0xJRFNFU0hPV1xuICAgICAgICBpZiAoc2xpZGVyLnZhcnMuc2xpZGVzaG93KSB7XG4gICAgICAgICAgaWYgKHNsaWRlci52YXJzLnBhdXNlT25Ib3Zlcikge1xuICAgICAgICAgICAgc2xpZGVyLmhvdmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoIXNsaWRlci5tYW51YWxQbGF5ICYmICFzbGlkZXIubWFudWFsUGF1c2UpIHNsaWRlci5wYXVzZSgpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICghc2xpZGVyLm1hbnVhbFBhdXNlICYmICFzbGlkZXIubWFudWFsUGxheSAmJiAhc2xpZGVyLnN0b3BwZWQpIHNsaWRlci5wbGF5KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gaW5pdGlhbGl6ZSBhbmltYXRpb25cbiAgICAgICAgICAvL0lmIHdlJ3JlIHZpc2libGUsIG9yIHdlIGRvbid0IHVzZSBQYWdlVmlzaWJpbGl0eSBBUElcbiAgICAgICAgICBpZighc2xpZGVyLnZhcnMucGF1c2VJbnZpc2libGUgfHwgIW1ldGhvZHMucGF1c2VJbnZpc2libGUuaXNIaWRkZW4oKSkge1xuICAgICAgICAgICAgKHNsaWRlci52YXJzLmluaXREZWxheSA+IDApID8gc2xpZGVyLnN0YXJ0VGltZW91dCA9IHNldFRpbWVvdXQoc2xpZGVyLnBsYXksIHNsaWRlci52YXJzLmluaXREZWxheSkgOiBzbGlkZXIucGxheSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFTTkFWOlxuICAgICAgICBpZiAoYXNOYXYpIG1ldGhvZHMuYXNOYXYuc2V0dXAoKTtcblxuICAgICAgICAvLyBUT1VDSFxuICAgICAgICBpZiAodG91Y2ggJiYgc2xpZGVyLnZhcnMudG91Y2gpIG1ldGhvZHMudG91Y2goKTtcblxuICAgICAgICAvLyBGQURFJiZTTU9PVEhIRUlHSFQgfHwgU0xJREU6XG4gICAgICAgIGlmICghZmFkZSB8fCAoZmFkZSAmJiBzbGlkZXIudmFycy5zbW9vdGhIZWlnaHQpKSAkKHdpbmRvdykuYmluZChcInJlc2l6ZSBvcmllbnRhdGlvbmNoYW5nZSBmb2N1c1wiLCBtZXRob2RzLnJlc2l6ZSk7XG5cbiAgICAgICAgc2xpZGVyLmZpbmQoXCJpbWdcIikuYXR0cihcImRyYWdnYWJsZVwiLCBcImZhbHNlXCIpO1xuXG4gICAgICAgIC8vIEFQSTogc3RhcnQoKSBDYWxsYmFja1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgc2xpZGVyLnZhcnMuc3RhcnQoc2xpZGVyKTtcbiAgICAgICAgfSwgMjAwKTtcbiAgICAgIH0sXG4gICAgICBhc05hdjoge1xuICAgICAgICBzZXR1cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2xpZGVyLmFzTmF2ID0gdHJ1ZTtcbiAgICAgICAgICBzbGlkZXIuYW5pbWF0aW5nVG8gPSBNYXRoLmZsb29yKHNsaWRlci5jdXJyZW50U2xpZGUvc2xpZGVyLm1vdmUpO1xuICAgICAgICAgIHNsaWRlci5jdXJyZW50SXRlbSA9IHNsaWRlci5jdXJyZW50U2xpZGU7XG4gICAgICAgICAgc2xpZGVyLnNsaWRlcy5yZW1vdmVDbGFzcyhuYW1lc3BhY2UgKyBcImFjdGl2ZS1zbGlkZVwiKS5lcShzbGlkZXIuY3VycmVudEl0ZW0pLmFkZENsYXNzKG5hbWVzcGFjZSArIFwiYWN0aXZlLXNsaWRlXCIpO1xuICAgICAgICAgIGlmKCFtc0dlc3R1cmUpe1xuICAgICAgICAgICAgICBzbGlkZXIuc2xpZGVzLm9uKGV2ZW50VHlwZSwgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHZhciAkc2xpZGUgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSAkc2xpZGUuaW5kZXgoKTtcbiAgICAgICAgICAgICAgICB2YXIgcG9zRnJvbUxlZnQgPSAkc2xpZGUub2Zmc2V0KCkubGVmdCAtICQoc2xpZGVyKS5zY3JvbGxMZWZ0KCk7IC8vIEZpbmQgcG9zaXRpb24gb2Ygc2xpZGUgcmVsYXRpdmUgdG8gbGVmdCBvZiBzbGlkZXIgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgaWYoIHBvc0Zyb21MZWZ0IDw9IDAgJiYgJHNsaWRlLmhhc0NsYXNzKCBuYW1lc3BhY2UgKyAnYWN0aXZlLXNsaWRlJyApICkge1xuICAgICAgICAgICAgICAgICAgc2xpZGVyLmZsZXhBbmltYXRlKHNsaWRlci5nZXRUYXJnZXQoXCJwcmV2XCIpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEkKHNsaWRlci52YXJzLmFzTmF2Rm9yKS5kYXRhKCdmbGV4c2xpZGVyJykuYW5pbWF0aW5nICYmICEkc2xpZGUuaGFzQ2xhc3MobmFtZXNwYWNlICsgXCJhY3RpdmUtc2xpZGVcIikpIHtcbiAgICAgICAgICAgICAgICAgIHNsaWRlci5kaXJlY3Rpb24gPSAoc2xpZGVyLmN1cnJlbnRJdGVtIDwgdGFyZ2V0KSA/IFwibmV4dFwiIDogXCJwcmV2XCI7XG4gICAgICAgICAgICAgICAgICBzbGlkZXIuZmxleEFuaW1hdGUodGFyZ2V0LCBzbGlkZXIudmFycy5wYXVzZU9uQWN0aW9uLCBmYWxzZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgZWwuX3NsaWRlciA9IHNsaWRlcjtcbiAgICAgICAgICAgICAgc2xpZGVyLnNsaWRlcy5lYWNoKGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgdGhhdC5fZ2VzdHVyZSA9IG5ldyBNU0dlc3R1cmUoKTtcbiAgICAgICAgICAgICAgICAgIHRoYXQuX2dlc3R1cmUudGFyZ2V0ID0gdGhhdDtcbiAgICAgICAgICAgICAgICAgIHRoYXQuYWRkRXZlbnRMaXN0ZW5lcihcIk1TUG9pbnRlckRvd25cIiwgZnVuY3Rpb24gKGUpe1xuICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZihlLmN1cnJlbnRUYXJnZXQuX2dlc3R1cmUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5fZ2VzdHVyZS5hZGRQb2ludGVyKGUucG9pbnRlcklkKTtcbiAgICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIHRoYXQuYWRkRXZlbnRMaXN0ZW5lcihcIk1TR2VzdHVyZVRhcFwiLCBmdW5jdGlvbiAoZSl7XG4gICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciAkc2xpZGUgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSAkc2xpZGUuaW5kZXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoISQoc2xpZGVyLnZhcnMuYXNOYXZGb3IpLmRhdGEoJ2ZsZXhzbGlkZXInKS5hbmltYXRpbmcgJiYgISRzbGlkZS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyLmRpcmVjdGlvbiA9IChzbGlkZXIuY3VycmVudEl0ZW0gPCB0YXJnZXQpID8gXCJuZXh0XCIgOiBcInByZXZcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyLmZsZXhBbmltYXRlKHRhcmdldCwgc2xpZGVyLnZhcnMucGF1c2VPbkFjdGlvbiwgZmFsc2UsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb250cm9sTmF2OiB7XG4gICAgICAgIHNldHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoIXNsaWRlci5tYW51YWxDb250cm9scykge1xuICAgICAgICAgICAgbWV0aG9kcy5jb250cm9sTmF2LnNldHVwUGFnaW5nKCk7XG4gICAgICAgICAgfSBlbHNlIHsgLy8gTUFOVUFMQ09OVFJPTFM6XG4gICAgICAgICAgICBtZXRob2RzLmNvbnRyb2xOYXYuc2V0dXBNYW51YWwoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldHVwUGFnaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgdHlwZSA9IChzbGlkZXIudmFycy5jb250cm9sTmF2ID09PSBcInRodW1ibmFpbHNcIikgPyAnY29udHJvbC10aHVtYnMnIDogJ2NvbnRyb2wtcGFnaW5nJyxcbiAgICAgICAgICAgICAgaiA9IDEsXG4gICAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICAgIHNsaWRlO1xuXG4gICAgICAgICAgc2xpZGVyLmNvbnRyb2xOYXZTY2FmZm9sZCA9ICQoJzxvbCBjbGFzcz1cIicrIG5hbWVzcGFjZSArICdjb250cm9sLW5hdiAnICsgbmFtZXNwYWNlICsgdHlwZSArICdcIj48L29sPicpO1xuXG4gICAgICAgICAgaWYgKHNsaWRlci5wYWdpbmdDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVyLnBhZ2luZ0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgc2xpZGUgPSBzbGlkZXIuc2xpZGVzLmVxKGkpO1xuICAgICAgICAgICAgICBpdGVtID0gKHNsaWRlci52YXJzLmNvbnRyb2xOYXYgPT09IFwidGh1bWJuYWlsc1wiKSA/ICc8aW1nIHNyYz1cIicgKyBzbGlkZS5hdHRyKCAnZGF0YS10aHVtYicgKSArICdcIi8+JyA6ICc8YT4nICsgaiArICc8L2E+JztcbiAgICAgICAgICAgICAgaWYgKCAndGh1bWJuYWlscycgPT09IHNsaWRlci52YXJzLmNvbnRyb2xOYXYgJiYgdHJ1ZSA9PT0gc2xpZGVyLnZhcnMudGh1bWJDYXB0aW9ucyApIHtcbiAgICAgICAgICAgICAgICB2YXIgY2FwdG4gPSBzbGlkZS5hdHRyKCAnZGF0YS10aHVtYmNhcHRpb24nICk7XG4gICAgICAgICAgICAgICAgaWYgKCAnJyAhPSBjYXB0biAmJiB1bmRlZmluZWQgIT0gY2FwdG4gKSBpdGVtICs9ICc8c3BhbiBjbGFzcz1cIicgKyBuYW1lc3BhY2UgKyAnY2FwdGlvblwiPicgKyBjYXB0biArICc8L3NwYW4+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzbGlkZXIuY29udHJvbE5hdlNjYWZmb2xkLmFwcGVuZCgnPGxpPicgKyBpdGVtICsgJzwvbGk+Jyk7XG4gICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDT05UUk9MU0NPTlRBSU5FUjpcbiAgICAgICAgICAoc2xpZGVyLmNvbnRyb2xzQ29udGFpbmVyKSA/ICQoc2xpZGVyLmNvbnRyb2xzQ29udGFpbmVyKS5hcHBlbmQoc2xpZGVyLmNvbnRyb2xOYXZTY2FmZm9sZCkgOiBzbGlkZXIuYXBwZW5kKHNsaWRlci5jb250cm9sTmF2U2NhZmZvbGQpO1xuICAgICAgICAgIG1ldGhvZHMuY29udHJvbE5hdi5zZXQoKTtcblxuICAgICAgICAgIG1ldGhvZHMuY29udHJvbE5hdi5hY3RpdmUoKTtcblxuICAgICAgICAgIHNsaWRlci5jb250cm9sTmF2U2NhZmZvbGQuZGVsZWdhdGUoJ2EsIGltZycsIGV2ZW50VHlwZSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGlmICh3YXRjaGVkRXZlbnQgPT09IFwiXCIgfHwgd2F0Y2hlZEV2ZW50ID09PSBldmVudC50eXBlKSB7XG4gICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICB0YXJnZXQgPSBzbGlkZXIuY29udHJvbE5hdi5pbmRleCgkdGhpcyk7XG5cbiAgICAgICAgICAgICAgaWYgKCEkdGhpcy5oYXNDbGFzcyhuYW1lc3BhY2UgKyAnYWN0aXZlJykpIHtcbiAgICAgICAgICAgICAgICBzbGlkZXIuZGlyZWN0aW9uID0gKHRhcmdldCA+IHNsaWRlci5jdXJyZW50U2xpZGUpID8gXCJuZXh0XCIgOiBcInByZXZcIjtcbiAgICAgICAgICAgICAgICBzbGlkZXIuZmxleEFuaW1hdGUodGFyZ2V0LCBzbGlkZXIudmFycy5wYXVzZU9uQWN0aW9uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzZXR1cCBmbGFncyB0byBwcmV2ZW50IGV2ZW50IGR1cGxpY2F0aW9uXG4gICAgICAgICAgICBpZiAod2F0Y2hlZEV2ZW50ID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgIHdhdGNoZWRFdmVudCA9IGV2ZW50LnR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXRob2RzLnNldFRvQ2xlYXJXYXRjaGVkRXZlbnQoKTtcblxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXR1cE1hbnVhbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2xpZGVyLmNvbnRyb2xOYXYgPSBzbGlkZXIubWFudWFsQ29udHJvbHM7XG4gICAgICAgICAgbWV0aG9kcy5jb250cm9sTmF2LmFjdGl2ZSgpO1xuXG4gICAgICAgICAgc2xpZGVyLmNvbnRyb2xOYXYuYmluZChldmVudFR5cGUsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBpZiAod2F0Y2hlZEV2ZW50ID09PSBcIlwiIHx8IHdhdGNoZWRFdmVudCA9PT0gZXZlbnQudHlwZSkge1xuICAgICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gc2xpZGVyLmNvbnRyb2xOYXYuaW5kZXgoJHRoaXMpO1xuXG4gICAgICAgICAgICAgIGlmICghJHRoaXMuaGFzQ2xhc3MobmFtZXNwYWNlICsgJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgICAgICAgKHRhcmdldCA+IHNsaWRlci5jdXJyZW50U2xpZGUpID8gc2xpZGVyLmRpcmVjdGlvbiA9IFwibmV4dFwiIDogc2xpZGVyLmRpcmVjdGlvbiA9IFwicHJldlwiO1xuICAgICAgICAgICAgICAgIHNsaWRlci5mbGV4QW5pbWF0ZSh0YXJnZXQsIHNsaWRlci52YXJzLnBhdXNlT25BY3Rpb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNldHVwIGZsYWdzIHRvIHByZXZlbnQgZXZlbnQgZHVwbGljYXRpb25cbiAgICAgICAgICAgIGlmICh3YXRjaGVkRXZlbnQgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgd2F0Y2hlZEV2ZW50ID0gZXZlbnQudHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ldGhvZHMuc2V0VG9DbGVhcldhdGNoZWRFdmVudCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBzZWxlY3RvciA9IChzbGlkZXIudmFycy5jb250cm9sTmF2ID09PSBcInRodW1ibmFpbHNcIikgPyAnaW1nJyA6ICdhJztcbiAgICAgICAgICBzbGlkZXIuY29udHJvbE5hdiA9ICQoJy4nICsgbmFtZXNwYWNlICsgJ2NvbnRyb2wtbmF2IGxpICcgKyBzZWxlY3RvciwgKHNsaWRlci5jb250cm9sc0NvbnRhaW5lcikgPyBzbGlkZXIuY29udHJvbHNDb250YWluZXIgOiBzbGlkZXIpO1xuICAgICAgICB9LFxuICAgICAgICBhY3RpdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNsaWRlci5jb250cm9sTmF2LnJlbW92ZUNsYXNzKG5hbWVzcGFjZSArIFwiYWN0aXZlXCIpLmVxKHNsaWRlci5hbmltYXRpbmdUbykuYWRkQ2xhc3MobmFtZXNwYWNlICsgXCJhY3RpdmVcIik7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24oYWN0aW9uLCBwb3MpIHtcbiAgICAgICAgICBpZiAoc2xpZGVyLnBhZ2luZ0NvdW50ID4gMSAmJiBhY3Rpb24gPT09IFwiYWRkXCIpIHtcbiAgICAgICAgICAgIHNsaWRlci5jb250cm9sTmF2U2NhZmZvbGQuYXBwZW5kKCQoJzxsaT48YT4nICsgc2xpZGVyLmNvdW50ICsgJzwvYT48L2xpPicpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNsaWRlci5wYWdpbmdDb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgc2xpZGVyLmNvbnRyb2xOYXZTY2FmZm9sZC5maW5kKCdsaScpLnJlbW92ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzbGlkZXIuY29udHJvbE5hdi5lcShwb3MpLmNsb3Nlc3QoJ2xpJykucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1ldGhvZHMuY29udHJvbE5hdi5zZXQoKTtcbiAgICAgICAgICAoc2xpZGVyLnBhZ2luZ0NvdW50ID4gMSAmJiBzbGlkZXIucGFnaW5nQ291bnQgIT09IHNsaWRlci5jb250cm9sTmF2Lmxlbmd0aCkgPyBzbGlkZXIudXBkYXRlKHBvcywgYWN0aW9uKSA6IG1ldGhvZHMuY29udHJvbE5hdi5hY3RpdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRpcmVjdGlvbk5hdjoge1xuICAgICAgICBzZXR1cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGRpcmVjdGlvbk5hdlNjYWZmb2xkID0gJCgnPHVsIGNsYXNzPVwiJyArIG5hbWVzcGFjZSArICdkaXJlY3Rpb24tbmF2XCI+PGxpPjxhIGNsYXNzPVwiJyArIG5hbWVzcGFjZSArICdwcmV2XCIgaHJlZj1cIiNcIj4nICsgc2xpZGVyLnZhcnMucHJldlRleHQgKyAnPC9hPjwvbGk+PGxpPjxhIGNsYXNzPVwiJyArIG5hbWVzcGFjZSArICduZXh0XCIgaHJlZj1cIiNcIj4nICsgc2xpZGVyLnZhcnMubmV4dFRleHQgKyAnPC9hPjwvbGk+PC91bD4nKTtcblxuICAgICAgICAgIC8vIENPTlRST0xTQ09OVEFJTkVSOlxuICAgICAgICAgIGlmIChzbGlkZXIuY29udHJvbHNDb250YWluZXIpIHtcbiAgICAgICAgICAgICQoc2xpZGVyLmNvbnRyb2xzQ29udGFpbmVyKS5hcHBlbmQoZGlyZWN0aW9uTmF2U2NhZmZvbGQpO1xuICAgICAgICAgICAgc2xpZGVyLmRpcmVjdGlvbk5hdiA9ICQoJy4nICsgbmFtZXNwYWNlICsgJ2RpcmVjdGlvbi1uYXYgbGkgYScsIHNsaWRlci5jb250cm9sc0NvbnRhaW5lcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNsaWRlci5hcHBlbmQoZGlyZWN0aW9uTmF2U2NhZmZvbGQpO1xuICAgICAgICAgICAgc2xpZGVyLmRpcmVjdGlvbk5hdiA9ICQoJy4nICsgbmFtZXNwYWNlICsgJ2RpcmVjdGlvbi1uYXYgbGkgYScsIHNsaWRlcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWV0aG9kcy5kaXJlY3Rpb25OYXYudXBkYXRlKCk7XG5cbiAgICAgICAgICBzbGlkZXIuZGlyZWN0aW9uTmF2LmJpbmQoZXZlbnRUeXBlLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciB0YXJnZXQ7XG5cbiAgICAgICAgICAgIGlmICh3YXRjaGVkRXZlbnQgPT09IFwiXCIgfHwgd2F0Y2hlZEV2ZW50ID09PSBldmVudC50eXBlKSB7XG4gICAgICAgICAgICAgIHRhcmdldCA9ICgkKHRoaXMpLmhhc0NsYXNzKG5hbWVzcGFjZSArICduZXh0JykpID8gc2xpZGVyLmdldFRhcmdldCgnbmV4dCcpIDogc2xpZGVyLmdldFRhcmdldCgncHJldicpO1xuICAgICAgICAgICAgICBzbGlkZXIuZmxleEFuaW1hdGUodGFyZ2V0LCBzbGlkZXIudmFycy5wYXVzZU9uQWN0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2V0dXAgZmxhZ3MgdG8gcHJldmVudCBldmVudCBkdXBsaWNhdGlvblxuICAgICAgICAgICAgaWYgKHdhdGNoZWRFdmVudCA9PT0gXCJcIikge1xuICAgICAgICAgICAgICB3YXRjaGVkRXZlbnQgPSBldmVudC50eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWV0aG9kcy5zZXRUb0NsZWFyV2F0Y2hlZEV2ZW50KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGRpc2FibGVkQ2xhc3MgPSBuYW1lc3BhY2UgKyAnZGlzYWJsZWQnO1xuICAgICAgICAgIGlmIChzbGlkZXIucGFnaW5nQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHNsaWRlci5kaXJlY3Rpb25OYXYuYWRkQ2xhc3MoZGlzYWJsZWRDbGFzcykuYXR0cigndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFzbGlkZXIudmFycy5hbmltYXRpb25Mb29wKSB7XG4gICAgICAgICAgICBpZiAoc2xpZGVyLmFuaW1hdGluZ1RvID09PSAwKSB7XG4gICAgICAgICAgICAgIHNsaWRlci5kaXJlY3Rpb25OYXYucmVtb3ZlQ2xhc3MoZGlzYWJsZWRDbGFzcykuZmlsdGVyKCcuJyArIG5hbWVzcGFjZSArIFwicHJldlwiKS5hZGRDbGFzcyhkaXNhYmxlZENsYXNzKS5hdHRyKCd0YWJpbmRleCcsICctMScpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzbGlkZXIuYW5pbWF0aW5nVG8gPT09IHNsaWRlci5sYXN0KSB7XG4gICAgICAgICAgICAgIHNsaWRlci5kaXJlY3Rpb25OYXYucmVtb3ZlQ2xhc3MoZGlzYWJsZWRDbGFzcykuZmlsdGVyKCcuJyArIG5hbWVzcGFjZSArIFwibmV4dFwiKS5hZGRDbGFzcyhkaXNhYmxlZENsYXNzKS5hdHRyKCd0YWJpbmRleCcsICctMScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2xpZGVyLmRpcmVjdGlvbk5hdi5yZW1vdmVDbGFzcyhkaXNhYmxlZENsYXNzKS5yZW1vdmVBdHRyKCd0YWJpbmRleCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzbGlkZXIuZGlyZWN0aW9uTmF2LnJlbW92ZUNsYXNzKGRpc2FibGVkQ2xhc3MpLnJlbW92ZUF0dHIoJ3RhYmluZGV4Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcGF1c2VQbGF5OiB7XG4gICAgICAgIHNldHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcGF1c2VQbGF5U2NhZmZvbGQgPSAkKCc8ZGl2IGNsYXNzPVwiJyArIG5hbWVzcGFjZSArICdwYXVzZXBsYXlcIj48YT48L2E+PC9kaXY+Jyk7XG5cbiAgICAgICAgICAvLyBDT05UUk9MU0NPTlRBSU5FUjpcbiAgICAgICAgICBpZiAoc2xpZGVyLmNvbnRyb2xzQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBzbGlkZXIuY29udHJvbHNDb250YWluZXIuYXBwZW5kKHBhdXNlUGxheVNjYWZmb2xkKTtcbiAgICAgICAgICAgIHNsaWRlci5wYXVzZVBsYXkgPSAkKCcuJyArIG5hbWVzcGFjZSArICdwYXVzZXBsYXkgYScsIHNsaWRlci5jb250cm9sc0NvbnRhaW5lcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNsaWRlci5hcHBlbmQocGF1c2VQbGF5U2NhZmZvbGQpO1xuICAgICAgICAgICAgc2xpZGVyLnBhdXNlUGxheSA9ICQoJy4nICsgbmFtZXNwYWNlICsgJ3BhdXNlcGxheSBhJywgc2xpZGVyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtZXRob2RzLnBhdXNlUGxheS51cGRhdGUoKHNsaWRlci52YXJzLnNsaWRlc2hvdykgPyBuYW1lc3BhY2UgKyAncGF1c2UnIDogbmFtZXNwYWNlICsgJ3BsYXknKTtcblxuICAgICAgICAgIHNsaWRlci5wYXVzZVBsYXkuYmluZChldmVudFR5cGUsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBpZiAod2F0Y2hlZEV2ZW50ID09PSBcIlwiIHx8IHdhdGNoZWRFdmVudCA9PT0gZXZlbnQudHlwZSkge1xuICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcyhuYW1lc3BhY2UgKyAncGF1c2UnKSkge1xuICAgICAgICAgICAgICAgIHNsaWRlci5tYW51YWxQYXVzZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2xpZGVyLm1hbnVhbFBsYXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzbGlkZXIucGF1c2UoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzbGlkZXIubWFudWFsUGF1c2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzbGlkZXIubWFudWFsUGxheSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2xpZGVyLnBsYXkoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzZXR1cCBmbGFncyB0byBwcmV2ZW50IGV2ZW50IGR1cGxpY2F0aW9uXG4gICAgICAgICAgICBpZiAod2F0Y2hlZEV2ZW50ID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgIHdhdGNoZWRFdmVudCA9IGV2ZW50LnR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXRob2RzLnNldFRvQ2xlYXJXYXRjaGVkRXZlbnQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgICAgIChzdGF0ZSA9PT0gXCJwbGF5XCIpID8gc2xpZGVyLnBhdXNlUGxheS5yZW1vdmVDbGFzcyhuYW1lc3BhY2UgKyAncGF1c2UnKS5hZGRDbGFzcyhuYW1lc3BhY2UgKyAncGxheScpLmh0bWwoc2xpZGVyLnZhcnMucGxheVRleHQpIDogc2xpZGVyLnBhdXNlUGxheS5yZW1vdmVDbGFzcyhuYW1lc3BhY2UgKyAncGxheScpLmFkZENsYXNzKG5hbWVzcGFjZSArICdwYXVzZScpLmh0bWwoc2xpZGVyLnZhcnMucGF1c2VUZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHRvdWNoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YXJ0WCxcbiAgICAgICAgICBzdGFydFksXG4gICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgIGN3aWR0aCxcbiAgICAgICAgICBkeCxcbiAgICAgICAgICBzdGFydFQsXG4gICAgICAgICAgc2Nyb2xsaW5nID0gZmFsc2UsXG4gICAgICAgICAgbG9jYWxYID0gMCxcbiAgICAgICAgICBsb2NhbFkgPSAwLFxuICAgICAgICAgIGFjY0R4ID0gMDtcblxuICAgICAgICBpZighbXNHZXN0dXJlKXtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvblRvdWNoU3RhcnQsIGZhbHNlKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGUpIHtcbiAgICAgICAgICAgICAgaWYgKHNsaWRlci5hbmltYXRpbmcpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoICggd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkICkgfHwgZS50b3VjaGVzLmxlbmd0aCA9PT0gMSApIHtcbiAgICAgICAgICAgICAgICBzbGlkZXIucGF1c2UoKTtcbiAgICAgICAgICAgICAgICAvLyBDQVJPVVNFTDpcbiAgICAgICAgICAgICAgICBjd2lkdGggPSAodmVydGljYWwpID8gc2xpZGVyLmggOiBzbGlkZXIuIHc7XG4gICAgICAgICAgICAgICAgc3RhcnRUID0gTnVtYmVyKG5ldyBEYXRlKCkpO1xuICAgICAgICAgICAgICAgIC8vIENBUk9VU0VMOlxuXG4gICAgICAgICAgICAgICAgLy8gTG9jYWwgdmFycyBmb3IgWCBhbmQgWSBwb2ludHMuXG4gICAgICAgICAgICAgICAgbG9jYWxYID0gZS50b3VjaGVzWzBdLnBhZ2VYO1xuICAgICAgICAgICAgICAgIGxvY2FsWSA9IGUudG91Y2hlc1swXS5wYWdlWTtcblxuICAgICAgICAgICAgICAgIG9mZnNldCA9IChjYXJvdXNlbCAmJiByZXZlcnNlICYmIHNsaWRlci5hbmltYXRpbmdUbyA9PT0gc2xpZGVyLmxhc3QpID8gMCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgKGNhcm91c2VsICYmIHJldmVyc2UpID8gc2xpZGVyLmxpbWl0IC0gKCgoc2xpZGVyLml0ZW1XICsgc2xpZGVyLnZhcnMuaXRlbU1hcmdpbikgKiBzbGlkZXIubW92ZSkgKiBzbGlkZXIuYW5pbWF0aW5nVG8pIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAoY2Fyb3VzZWwgJiYgc2xpZGVyLmN1cnJlbnRTbGlkZSA9PT0gc2xpZGVyLmxhc3QpID8gc2xpZGVyLmxpbWl0IDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAoY2Fyb3VzZWwpID8gKChzbGlkZXIuaXRlbVcgKyBzbGlkZXIudmFycy5pdGVtTWFyZ2luKSAqIHNsaWRlci5tb3ZlKSAqIHNsaWRlci5jdXJyZW50U2xpZGUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgIChyZXZlcnNlKSA/IChzbGlkZXIubGFzdCAtIHNsaWRlci5jdXJyZW50U2xpZGUgKyBzbGlkZXIuY2xvbmVPZmZzZXQpICogY3dpZHRoIDogKHNsaWRlci5jdXJyZW50U2xpZGUgKyBzbGlkZXIuY2xvbmVPZmZzZXQpICogY3dpZHRoO1xuICAgICAgICAgICAgICAgIHN0YXJ0WCA9ICh2ZXJ0aWNhbCkgPyBsb2NhbFkgOiBsb2NhbFg7XG4gICAgICAgICAgICAgICAgc3RhcnRZID0gKHZlcnRpY2FsKSA/IGxvY2FsWCA6IGxvY2FsWTtcblxuICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblRvdWNoRW5kLCBmYWxzZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gb25Ub3VjaE1vdmUoZSkge1xuICAgICAgICAgICAgICAvLyBMb2NhbCB2YXJzIGZvciBYIGFuZCBZIHBvaW50cy5cblxuICAgICAgICAgICAgICBsb2NhbFggPSBlLnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICAgICAgICAgIGxvY2FsWSA9IGUudG91Y2hlc1swXS5wYWdlWTtcblxuICAgICAgICAgICAgICBkeCA9ICh2ZXJ0aWNhbCkgPyBzdGFydFggLSBsb2NhbFkgOiBzdGFydFggLSBsb2NhbFg7XG4gICAgICAgICAgICAgIHNjcm9sbGluZyA9ICh2ZXJ0aWNhbCkgPyAoTWF0aC5hYnMoZHgpIDwgTWF0aC5hYnMobG9jYWxYIC0gc3RhcnRZKSkgOiAoTWF0aC5hYnMoZHgpIDwgTWF0aC5hYnMobG9jYWxZIC0gc3RhcnRZKSk7XG5cbiAgICAgICAgICAgICAgdmFyIGZ4bXMgPSA1MDA7XG5cbiAgICAgICAgICAgICAgaWYgKCAhIHNjcm9sbGluZyB8fCBOdW1iZXIoIG5ldyBEYXRlKCkgKSAtIHN0YXJ0VCA+IGZ4bXMgKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGlmICghZmFkZSAmJiBzbGlkZXIudHJhbnNpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgIGlmICghc2xpZGVyLnZhcnMuYW5pbWF0aW9uTG9vcCkge1xuICAgICAgICAgICAgICAgICAgICBkeCA9IGR4Lygoc2xpZGVyLmN1cnJlbnRTbGlkZSA9PT0gMCAmJiBkeCA8IDAgfHwgc2xpZGVyLmN1cnJlbnRTbGlkZSA9PT0gc2xpZGVyLmxhc3QgJiYgZHggPiAwKSA/IChNYXRoLmFicyhkeCkvY3dpZHRoKzIpIDogMSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBzbGlkZXIuc2V0UHJvcHMob2Zmc2V0ICsgZHgsIFwic2V0VG91Y2hcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uVG91Y2hFbmQoZSkge1xuICAgICAgICAgICAgICAvLyBmaW5pc2ggdGhlIHRvdWNoIGJ5IHVuZG9pbmcgdGhlIHRvdWNoIHNlc3Npb25cbiAgICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUsIGZhbHNlKTtcblxuICAgICAgICAgICAgICBpZiAoc2xpZGVyLmFuaW1hdGluZ1RvID09PSBzbGlkZXIuY3VycmVudFNsaWRlICYmICFzY3JvbGxpbmcgJiYgIShkeCA9PT0gbnVsbCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXBkYXRlRHggPSAocmV2ZXJzZSkgPyAtZHggOiBkeCxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gKHVwZGF0ZUR4ID4gMCkgPyBzbGlkZXIuZ2V0VGFyZ2V0KCduZXh0JykgOiBzbGlkZXIuZ2V0VGFyZ2V0KCdwcmV2Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2xpZGVyLmNhbkFkdmFuY2UodGFyZ2V0KSAmJiAoTnVtYmVyKG5ldyBEYXRlKCkpIC0gc3RhcnRUIDwgNTUwICYmIE1hdGguYWJzKHVwZGF0ZUR4KSA+IDUwIHx8IE1hdGguYWJzKHVwZGF0ZUR4KSA+IGN3aWR0aC8yKSkge1xuICAgICAgICAgICAgICAgICAgc2xpZGVyLmZsZXhBbmltYXRlKHRhcmdldCwgc2xpZGVyLnZhcnMucGF1c2VPbkFjdGlvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGlmICghZmFkZSkgc2xpZGVyLmZsZXhBbmltYXRlKHNsaWRlci5jdXJyZW50U2xpZGUsIHNsaWRlci52YXJzLnBhdXNlT25BY3Rpb24sIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9uVG91Y2hFbmQsIGZhbHNlKTtcblxuICAgICAgICAgICAgICBzdGFydFggPSBudWxsO1xuICAgICAgICAgICAgICBzdGFydFkgPSBudWxsO1xuICAgICAgICAgICAgICBkeCA9IG51bGw7XG4gICAgICAgICAgICAgIG9mZnNldCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZWwuc3R5bGUubXNUb3VjaEFjdGlvbiA9IFwibm9uZVwiO1xuICAgICAgICAgICAgZWwuX2dlc3R1cmUgPSBuZXcgTVNHZXN0dXJlKCk7XG4gICAgICAgICAgICBlbC5fZ2VzdHVyZS50YXJnZXQgPSBlbDtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJEb3duXCIsIG9uTVNQb2ludGVyRG93biwgZmFsc2UpO1xuICAgICAgICAgICAgZWwuX3NsaWRlciA9IHNsaWRlcjtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJNU0dlc3R1cmVDaGFuZ2VcIiwgb25NU0dlc3R1cmVDaGFuZ2UsIGZhbHNlKTtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJNU0dlc3R1cmVFbmRcIiwgb25NU0dlc3R1cmVFbmQsIGZhbHNlKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gb25NU1BvaW50ZXJEb3duKGUpe1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNsaWRlci5hbmltYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBzbGlkZXIucGF1c2UoKTtcbiAgICAgICAgICAgICAgICAgICAgZWwuX2dlc3R1cmUuYWRkUG9pbnRlcihlLnBvaW50ZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgIGFjY0R4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY3dpZHRoID0gKHZlcnRpY2FsKSA/IHNsaWRlci5oIDogc2xpZGVyLiB3O1xuICAgICAgICAgICAgICAgICAgICBzdGFydFQgPSBOdW1iZXIobmV3IERhdGUoKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENBUk9VU0VMOlxuXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IChjYXJvdXNlbCAmJiByZXZlcnNlICYmIHNsaWRlci5hbmltYXRpbmdUbyA9PT0gc2xpZGVyLmxhc3QpID8gMCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAoY2Fyb3VzZWwgJiYgcmV2ZXJzZSkgPyBzbGlkZXIubGltaXQgLSAoKChzbGlkZXIuaXRlbVcgKyBzbGlkZXIudmFycy5pdGVtTWFyZ2luKSAqIHNsaWRlci5tb3ZlKSAqIHNsaWRlci5hbmltYXRpbmdUbykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjYXJvdXNlbCAmJiBzbGlkZXIuY3VycmVudFNsaWRlID09PSBzbGlkZXIubGFzdCkgPyBzbGlkZXIubGltaXQgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2Fyb3VzZWwpID8gKChzbGlkZXIuaXRlbVcgKyBzbGlkZXIudmFycy5pdGVtTWFyZ2luKSAqIHNsaWRlci5tb3ZlKSAqIHNsaWRlci5jdXJyZW50U2xpZGUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJldmVyc2UpID8gKHNsaWRlci5sYXN0IC0gc2xpZGVyLmN1cnJlbnRTbGlkZSArIHNsaWRlci5jbG9uZU9mZnNldCkgKiBjd2lkdGggOiAoc2xpZGVyLmN1cnJlbnRTbGlkZSArIHNsaWRlci5jbG9uZU9mZnNldCkgKiBjd2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBvbk1TR2VzdHVyZUNoYW5nZShlKSB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGVyID0gZS50YXJnZXQuX3NsaWRlcjtcbiAgICAgICAgICAgICAgICBpZighc2xpZGVyKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNYID0gLWUudHJhbnNsYXRpb25YLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc1kgPSAtZS50cmFuc2xhdGlvblk7XG5cbiAgICAgICAgICAgICAgICAvL0FjY3VtdWxhdGUgdHJhbnNsYXRpb25zLlxuICAgICAgICAgICAgICAgIGFjY0R4ID0gYWNjRHggKyAoKHZlcnRpY2FsKSA/IHRyYW5zWSA6IHRyYW5zWCk7XG4gICAgICAgICAgICAgICAgZHggPSBhY2NEeDtcbiAgICAgICAgICAgICAgICBzY3JvbGxpbmcgPSAodmVydGljYWwpID8gKE1hdGguYWJzKGFjY0R4KSA8IE1hdGguYWJzKC10cmFuc1gpKSA6IChNYXRoLmFicyhhY2NEeCkgPCBNYXRoLmFicygtdHJhbnNZKSk7XG5cbiAgICAgICAgICAgICAgICBpZihlLmRldGFpbCA9PT0gZS5NU0dFU1RVUkVfRkxBR19JTkVSVElBKXtcbiAgICAgICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZWwuX2dlc3R1cmUuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFzY3JvbGxpbmcgfHwgTnVtYmVyKG5ldyBEYXRlKCkpIC0gc3RhcnRUID4gNTAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmYWRlICYmIHNsaWRlci50cmFuc2l0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzbGlkZXIudmFycy5hbmltYXRpb25Mb29wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHggPSBhY2NEeCAvICgoc2xpZGVyLmN1cnJlbnRTbGlkZSA9PT0gMCAmJiBhY2NEeCA8IDAgfHwgc2xpZGVyLmN1cnJlbnRTbGlkZSA9PT0gc2xpZGVyLmxhc3QgJiYgYWNjRHggPiAwKSA/IChNYXRoLmFicyhhY2NEeCkgLyBjd2lkdGggKyAyKSA6IDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyLnNldFByb3BzKG9mZnNldCArIGR4LCBcInNldFRvdWNoXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBvbk1TR2VzdHVyZUVuZChlKSB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGVyID0gZS50YXJnZXQuX3NsaWRlcjtcbiAgICAgICAgICAgICAgICBpZighc2xpZGVyKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2xpZGVyLmFuaW1hdGluZ1RvID09PSBzbGlkZXIuY3VycmVudFNsaWRlICYmICFzY3JvbGxpbmcgJiYgIShkeCA9PT0gbnVsbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZUR4ID0gKHJldmVyc2UpID8gLWR4IDogZHgsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSAodXBkYXRlRHggPiAwKSA/IHNsaWRlci5nZXRUYXJnZXQoJ25leHQnKSA6IHNsaWRlci5nZXRUYXJnZXQoJ3ByZXYnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2xpZGVyLmNhbkFkdmFuY2UodGFyZ2V0KSAmJiAoTnVtYmVyKG5ldyBEYXRlKCkpIC0gc3RhcnRUIDwgNTUwICYmIE1hdGguYWJzKHVwZGF0ZUR4KSA+IDUwIHx8IE1hdGguYWJzKHVwZGF0ZUR4KSA+IGN3aWR0aC8yKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyLmZsZXhBbmltYXRlKHRhcmdldCwgc2xpZGVyLnZhcnMucGF1c2VPbkFjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZhZGUpIHNsaWRlci5mbGV4QW5pbWF0ZShzbGlkZXIuY3VycmVudFNsaWRlLCBzbGlkZXIudmFycy5wYXVzZU9uQWN0aW9uLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN0YXJ0WCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3RhcnRZID0gbnVsbDtcbiAgICAgICAgICAgICAgICBkeCA9IG51bGw7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBhY2NEeCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXNsaWRlci5hbmltYXRpbmcgJiYgc2xpZGVyLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgICAgICAgaWYgKCFjYXJvdXNlbCkgc2xpZGVyLmRvTWF0aCgpO1xuXG4gICAgICAgICAgaWYgKGZhZGUpIHtcbiAgICAgICAgICAgIC8vIFNNT09USCBIRUlHSFQ6XG4gICAgICAgICAgICBtZXRob2RzLnNtb290aEhlaWdodCgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2Fyb3VzZWwpIHsgLy9DQVJPVVNFTDpcbiAgICAgICAgICAgIHNsaWRlci5zbGlkZXMud2lkdGgoc2xpZGVyLmNvbXB1dGVkVyk7XG4gICAgICAgICAgICBzbGlkZXIudXBkYXRlKHNsaWRlci5wYWdpbmdDb3VudCk7XG4gICAgICAgICAgICBzbGlkZXIuc2V0UHJvcHMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAodmVydGljYWwpIHsgLy9WRVJUSUNBTDpcbiAgICAgICAgICAgIHNsaWRlci52aWV3cG9ydC5oZWlnaHQoc2xpZGVyLmgpO1xuICAgICAgICAgICAgc2xpZGVyLnNldFByb3BzKHNsaWRlci5oLCBcInNldFRvdGFsXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBTTU9PVEggSEVJR0hUOlxuICAgICAgICAgICAgaWYgKHNsaWRlci52YXJzLnNtb290aEhlaWdodCkgbWV0aG9kcy5zbW9vdGhIZWlnaHQoKTtcbiAgICAgICAgICAgIHNsaWRlci5uZXdTbGlkZXMud2lkdGgoc2xpZGVyLmNvbXB1dGVkVyk7XG4gICAgICAgICAgICBzbGlkZXIuc2V0UHJvcHMoc2xpZGVyLmNvbXB1dGVkVywgXCJzZXRUb3RhbFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzbW9vdGhIZWlnaHQ6IGZ1bmN0aW9uKGR1cikge1xuICAgICAgICBpZiAoIXZlcnRpY2FsIHx8IGZhZGUpIHtcbiAgICAgICAgICB2YXIgJG9iaiA9IChmYWRlKSA/IHNsaWRlciA6IHNsaWRlci52aWV3cG9ydDtcbiAgICAgICAgICAoZHVyKSA/ICRvYmouYW5pbWF0ZSh7XCJoZWlnaHRcIjogc2xpZGVyLnNsaWRlcy5lcShzbGlkZXIuYW5pbWF0aW5nVG8pLmhlaWdodCgpfSwgZHVyKSA6ICRvYmouaGVpZ2h0KHNsaWRlci5zbGlkZXMuZXEoc2xpZGVyLmFuaW1hdGluZ1RvKS5oZWlnaHQoKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzeW5jOiBmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgdmFyICRvYmogPSAkKHNsaWRlci52YXJzLnN5bmMpLmRhdGEoXCJmbGV4c2xpZGVyXCIpLFxuICAgICAgICAgICAgdGFyZ2V0ID0gc2xpZGVyLmFuaW1hdGluZ1RvO1xuXG4gICAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgICAgY2FzZSBcImFuaW1hdGVcIjogJG9iai5mbGV4QW5pbWF0ZSh0YXJnZXQsIHNsaWRlci52YXJzLnBhdXNlT25BY3Rpb24sIGZhbHNlLCB0cnVlKTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInBsYXlcIjogaWYgKCEkb2JqLnBsYXlpbmcgJiYgISRvYmouYXNOYXYpIHsgJG9iai5wbGF5KCk7IH0gYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInBhdXNlXCI6ICRvYmoucGF1c2UoKTsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1bmlxdWVJRDogZnVuY3Rpb24oJGNsb25lKSB7XG4gICAgICAgIC8vIEFwcGVuZCBfY2xvbmUgdG8gY3VycmVudCBsZXZlbCBhbmQgY2hpbGRyZW4gZWxlbWVudHMgd2l0aCBpZCBhdHRyaWJ1dGVzXG4gICAgICAgICRjbG9uZS5maWx0ZXIoICdbaWRdJyApLmFkZCgkY2xvbmUuZmluZCggJ1tpZF0nICkpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgICAkdGhpcy5hdHRyKCAnaWQnLCAkdGhpcy5hdHRyKCAnaWQnICkgKyAnX2Nsb25lJyApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICRjbG9uZTtcbiAgICAgIH0sXG4gICAgICBwYXVzZUludmlzaWJsZToge1xuICAgICAgICB2aXNQcm9wOiBudWxsLFxuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcHJlZml4ZXMgPSBbJ3dlYmtpdCcsJ21veicsJ21zJywnbyddO1xuXG4gICAgICAgICAgaWYgKCdoaWRkZW4nIGluIGRvY3VtZW50KSByZXR1cm4gJ2hpZGRlbic7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKChwcmVmaXhlc1tpXSArICdIaWRkZW4nKSBpbiBkb2N1bWVudClcbiAgICAgICAgICAgIG1ldGhvZHMucGF1c2VJbnZpc2libGUudmlzUHJvcCA9IHByZWZpeGVzW2ldICsgJ0hpZGRlbic7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtZXRob2RzLnBhdXNlSW52aXNpYmxlLnZpc1Byb3ApIHtcbiAgICAgICAgICAgIHZhciBldnRuYW1lID0gbWV0aG9kcy5wYXVzZUludmlzaWJsZS52aXNQcm9wLnJlcGxhY2UoL1tIfGhdaWRkZW4vLCcnKSArICd2aXNpYmlsaXR5Y2hhbmdlJztcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZ0bmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmIChtZXRob2RzLnBhdXNlSW52aXNpYmxlLmlzSGlkZGVuKCkpIHtcbiAgICAgICAgICAgICAgICBpZihzbGlkZXIuc3RhcnRUaW1lb3V0KSBjbGVhclRpbWVvdXQoc2xpZGVyLnN0YXJ0VGltZW91dCk7IC8vSWYgY2xvY2sgaXMgdGlja2luZywgc3RvcCB0aW1lciBhbmQgcHJldmVudCBmcm9tIHN0YXJ0aW5nIHdoaWxlIGludmlzaWJsZVxuICAgICAgICAgICAgICAgIGVsc2Ugc2xpZGVyLnBhdXNlKCk7IC8vT3IganVzdCBwYXVzZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmKHNsaWRlci5zdGFydGVkKSBzbGlkZXIucGxheSgpOyAvL0luaXRpYXRlZCBiZWZvcmUsIGp1c3QgcGxheVxuICAgICAgICAgICAgICAgIGVsc2UgKHNsaWRlci52YXJzLmluaXREZWxheSA+IDApID8gc2V0VGltZW91dChzbGlkZXIucGxheSwgc2xpZGVyLnZhcnMuaW5pdERlbGF5KSA6IHNsaWRlci5wbGF5KCk7IC8vRGlkbid0IGluaXQgYmVmb3JlOiBzaW1wbHkgaW5pdCBvciB3YWl0IGZvciBpdFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGlzSGlkZGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gZG9jdW1lbnRbbWV0aG9kcy5wYXVzZUludmlzaWJsZS52aXNQcm9wXSB8fCBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNldFRvQ2xlYXJXYXRjaGVkRXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQod2F0Y2hlZEV2ZW50Q2xlYXJUaW1lcik7XG4gICAgICAgIHdhdGNoZWRFdmVudENsZWFyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHdhdGNoZWRFdmVudCA9IFwiXCI7XG4gICAgICAgIH0sIDMwMDApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBwdWJsaWMgbWV0aG9kc1xuICAgIHNsaWRlci5mbGV4QW5pbWF0ZSA9IGZ1bmN0aW9uKHRhcmdldCwgcGF1c2UsIG92ZXJyaWRlLCB3aXRoU3luYywgZnJvbU5hdikge1xuICAgICAgaWYgKCFzbGlkZXIudmFycy5hbmltYXRpb25Mb29wICYmIHRhcmdldCAhPT0gc2xpZGVyLmN1cnJlbnRTbGlkZSkge1xuICAgICAgICBzbGlkZXIuZGlyZWN0aW9uID0gKHRhcmdldCA+IHNsaWRlci5jdXJyZW50U2xpZGUpID8gXCJuZXh0XCIgOiBcInByZXZcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGFzTmF2ICYmIHNsaWRlci5wYWdpbmdDb3VudCA9PT0gMSkgc2xpZGVyLmRpcmVjdGlvbiA9IChzbGlkZXIuY3VycmVudEl0ZW0gPCB0YXJnZXQpID8gXCJuZXh0XCIgOiBcInByZXZcIjtcblxuICAgICAgaWYgKCFzbGlkZXIuYW5pbWF0aW5nICYmIChzbGlkZXIuY2FuQWR2YW5jZSh0YXJnZXQsIGZyb21OYXYpIHx8IG92ZXJyaWRlKSAmJiBzbGlkZXIuaXMoXCI6dmlzaWJsZVwiKSkge1xuICAgICAgICBpZiAoYXNOYXYgJiYgd2l0aFN5bmMpIHtcbiAgICAgICAgICB2YXIgbWFzdGVyID0gJChzbGlkZXIudmFycy5hc05hdkZvcikuZGF0YSgnZmxleHNsaWRlcicpO1xuICAgICAgICAgIHNsaWRlci5hdEVuZCA9IHRhcmdldCA9PT0gMCB8fCB0YXJnZXQgPT09IHNsaWRlci5jb3VudCAtIDE7XG4gICAgICAgICAgbWFzdGVyLmZsZXhBbmltYXRlKHRhcmdldCwgdHJ1ZSwgZmFsc2UsIHRydWUsIGZyb21OYXYpO1xuICAgICAgICAgIHNsaWRlci5kaXJlY3Rpb24gPSAoc2xpZGVyLmN1cnJlbnRJdGVtIDwgdGFyZ2V0KSA/IFwibmV4dFwiIDogXCJwcmV2XCI7XG4gICAgICAgICAgbWFzdGVyLmRpcmVjdGlvbiA9IHNsaWRlci5kaXJlY3Rpb247XG5cbiAgICAgICAgICBpZiAoTWF0aC5jZWlsKCh0YXJnZXQgKyAxKS9zbGlkZXIudmlzaWJsZSkgLSAxICE9PSBzbGlkZXIuY3VycmVudFNsaWRlICYmIHRhcmdldCAhPT0gMCkge1xuICAgICAgICAgICAgc2xpZGVyLmN1cnJlbnRJdGVtID0gdGFyZ2V0O1xuICAgICAgICAgICAgc2xpZGVyLnNsaWRlcy5yZW1vdmVDbGFzcyhuYW1lc3BhY2UgKyBcImFjdGl2ZS1zbGlkZVwiKS5lcSh0YXJnZXQpLmFkZENsYXNzKG5hbWVzcGFjZSArIFwiYWN0aXZlLXNsaWRlXCIpO1xuICAgICAgICAgICAgdGFyZ2V0ID0gTWF0aC5mbG9vcih0YXJnZXQvc2xpZGVyLnZpc2libGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzbGlkZXIuY3VycmVudEl0ZW0gPSB0YXJnZXQ7XG4gICAgICAgICAgICBzbGlkZXIuc2xpZGVzLnJlbW92ZUNsYXNzKG5hbWVzcGFjZSArIFwiYWN0aXZlLXNsaWRlXCIpLmVxKHRhcmdldCkuYWRkQ2xhc3MobmFtZXNwYWNlICsgXCJhY3RpdmUtc2xpZGVcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2xpZGVyLmFuaW1hdGluZyA9IHRydWU7XG4gICAgICAgIHNsaWRlci5hbmltYXRpbmdUbyA9IHRhcmdldDtcblxuICAgICAgICAvLyBTTElERVNIT1c6XG4gICAgICAgIGlmIChwYXVzZSkgc2xpZGVyLnBhdXNlKCk7XG5cbiAgICAgICAgLy8gQVBJOiBiZWZvcmUoKSBhbmltYXRpb24gQ2FsbGJhY2tcbiAgICAgICAgc2xpZGVyLnZhcnMuYmVmb3JlKHNsaWRlcik7XG5cbiAgICAgICAgLy8gU1lOQzpcbiAgICAgICAgaWYgKHNsaWRlci5zeW5jRXhpc3RzICYmICFmcm9tTmF2KSBtZXRob2RzLnN5bmMoXCJhbmltYXRlXCIpO1xuXG4gICAgICAgIC8vIENPTlRST0xOQVZcbiAgICAgICAgaWYgKHNsaWRlci52YXJzLmNvbnRyb2xOYXYpIG1ldGhvZHMuY29udHJvbE5hdi5hY3RpdmUoKTtcblxuICAgICAgICAvLyAhQ0FST1VTRUw6XG4gICAgICAgIC8vIENBTkRJREFURTogc2xpZGUgYWN0aXZlIGNsYXNzIChmb3IgYWRkL3JlbW92ZSBzbGlkZSlcbiAgICAgICAgaWYgKCFjYXJvdXNlbCkgc2xpZGVyLnNsaWRlcy5yZW1vdmVDbGFzcyhuYW1lc3BhY2UgKyAnYWN0aXZlLXNsaWRlJykuZXEodGFyZ2V0KS5hZGRDbGFzcyhuYW1lc3BhY2UgKyAnYWN0aXZlLXNsaWRlJyk7XG5cbiAgICAgICAgLy8gSU5GSU5JVEUgTE9PUDpcbiAgICAgICAgLy8gQ0FORElEQVRFOiBhdEVuZFxuICAgICAgICBzbGlkZXIuYXRFbmQgPSB0YXJnZXQgPT09IDAgfHwgdGFyZ2V0ID09PSBzbGlkZXIubGFzdDtcblxuICAgICAgICAvLyBESVJFQ1RJT05OQVY6XG4gICAgICAgIGlmIChzbGlkZXIudmFycy5kaXJlY3Rpb25OYXYpIG1ldGhvZHMuZGlyZWN0aW9uTmF2LnVwZGF0ZSgpO1xuXG4gICAgICAgIGlmICh0YXJnZXQgPT09IHNsaWRlci5sYXN0KSB7XG4gICAgICAgICAgLy8gQVBJOiBlbmQoKSBvZiBjeWNsZSBDYWxsYmFja1xuICAgICAgICAgIHNsaWRlci52YXJzLmVuZChzbGlkZXIpO1xuICAgICAgICAgIC8vIFNMSURFU0hPVyAmJiAhSU5GSU5JVEUgTE9PUDpcbiAgICAgICAgICBpZiAoIXNsaWRlci52YXJzLmFuaW1hdGlvbkxvb3ApIHNsaWRlci5wYXVzZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU0xJREU6XG4gICAgICAgIGlmICghZmFkZSkge1xuICAgICAgICAgIHZhciBkaW1lbnNpb24gPSAodmVydGljYWwpID8gc2xpZGVyLnNsaWRlcy5maWx0ZXIoJzpmaXJzdCcpLmhlaWdodCgpIDogc2xpZGVyLmNvbXB1dGVkVyxcbiAgICAgICAgICAgICAgbWFyZ2luLCBzbGlkZVN0cmluZywgY2FsY05leHQ7XG5cbiAgICAgICAgICAvLyBJTkZJTklURSBMT09QIC8gUkVWRVJTRTpcbiAgICAgICAgICBpZiAoY2Fyb3VzZWwpIHtcbiAgICAgICAgICAgIC8vbWFyZ2luID0gKHNsaWRlci52YXJzLml0ZW1XaWR0aCA+IHNsaWRlci53KSA/IHNsaWRlci52YXJzLml0ZW1NYXJnaW4gKiAyIDogc2xpZGVyLnZhcnMuaXRlbU1hcmdpbjtcbiAgICAgICAgICAgIG1hcmdpbiA9IHNsaWRlci52YXJzLml0ZW1NYXJnaW47XG4gICAgICAgICAgICBjYWxjTmV4dCA9ICgoc2xpZGVyLml0ZW1XICsgbWFyZ2luKSAqIHNsaWRlci5tb3ZlKSAqIHNsaWRlci5hbmltYXRpbmdUbztcbiAgICAgICAgICAgIHNsaWRlU3RyaW5nID0gKGNhbGNOZXh0ID4gc2xpZGVyLmxpbWl0ICYmIHNsaWRlci52aXNpYmxlICE9PSAxKSA/IHNsaWRlci5saW1pdCA6IGNhbGNOZXh0O1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2xpZGVyLmN1cnJlbnRTbGlkZSA9PT0gMCAmJiB0YXJnZXQgPT09IHNsaWRlci5jb3VudCAtIDEgJiYgc2xpZGVyLnZhcnMuYW5pbWF0aW9uTG9vcCAmJiBzbGlkZXIuZGlyZWN0aW9uICE9PSBcIm5leHRcIikge1xuICAgICAgICAgICAgc2xpZGVTdHJpbmcgPSAocmV2ZXJzZSkgPyAoc2xpZGVyLmNvdW50ICsgc2xpZGVyLmNsb25lT2Zmc2V0KSAqIGRpbWVuc2lvbiA6IDA7XG4gICAgICAgICAgfSBlbHNlIGlmIChzbGlkZXIuY3VycmVudFNsaWRlID09PSBzbGlkZXIubGFzdCAmJiB0YXJnZXQgPT09IDAgJiYgc2xpZGVyLnZhcnMuYW5pbWF0aW9uTG9vcCAmJiBzbGlkZXIuZGlyZWN0aW9uICE9PSBcInByZXZcIikge1xuICAgICAgICAgICAgc2xpZGVTdHJpbmcgPSAocmV2ZXJzZSkgPyAwIDogKHNsaWRlci5jb3VudCArIDEpICogZGltZW5zaW9uO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzbGlkZVN0cmluZyA9IChyZXZlcnNlKSA/ICgoc2xpZGVyLmNvdW50IC0gMSkgLSB0YXJnZXQgKyBzbGlkZXIuY2xvbmVPZmZzZXQpICogZGltZW5zaW9uIDogKHRhcmdldCArIHNsaWRlci5jbG9uZU9mZnNldCkgKiBkaW1lbnNpb247XG4gICAgICAgICAgfVxuICAgICAgICAgIHNsaWRlci5zZXRQcm9wcyhzbGlkZVN0cmluZywgXCJcIiwgc2xpZGVyLnZhcnMuYW5pbWF0aW9uU3BlZWQpO1xuICAgICAgICAgIGlmIChzbGlkZXIudHJhbnNpdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICghc2xpZGVyLnZhcnMuYW5pbWF0aW9uTG9vcCB8fCAhc2xpZGVyLmF0RW5kKSB7XG4gICAgICAgICAgICAgIHNsaWRlci5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgc2xpZGVyLmN1cnJlbnRTbGlkZSA9IHNsaWRlci5hbmltYXRpbmdUbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVW5iaW5kIHByZXZpb3VzIHRyYW5zaXRpb25FbmQgZXZlbnRzIGFuZCByZS1iaW5kIG5ldyB0cmFuc2l0aW9uRW5kIGV2ZW50XG4gICAgICAgICAgICBzbGlkZXIuY29udGFpbmVyLnVuYmluZChcIndlYmtpdFRyYW5zaXRpb25FbmQgdHJhbnNpdGlvbmVuZFwiKTtcbiAgICAgICAgICAgIHNsaWRlci5jb250YWluZXIuYmluZChcIndlYmtpdFRyYW5zaXRpb25FbmQgdHJhbnNpdGlvbmVuZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNsaWRlci5lbnN1cmVBbmltYXRpb25FbmQpO1xuICAgICAgICAgICAgICBzbGlkZXIud3JhcHVwKGRpbWVuc2lvbik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gSW5zdXJhbmNlIGZvciB0aGUgZXZlci1zby1maWNrbGUgdHJhbnNpdGlvbkVuZCBldmVudFxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNsaWRlci5lbnN1cmVBbmltYXRpb25FbmQpO1xuICAgICAgICAgICAgc2xpZGVyLmVuc3VyZUFuaW1hdGlvbkVuZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNsaWRlci53cmFwdXAoZGltZW5zaW9uKTtcbiAgICAgICAgICAgIH0sIHNsaWRlci52YXJzLmFuaW1hdGlvblNwZWVkICsgMTAwKTtcblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzbGlkZXIuY29udGFpbmVyLmFuaW1hdGUoc2xpZGVyLmFyZ3MsIHNsaWRlci52YXJzLmFuaW1hdGlvblNwZWVkLCBzbGlkZXIudmFycy5lYXNpbmcsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgIHNsaWRlci53cmFwdXAoZGltZW5zaW9uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHsgLy8gRkFERTpcbiAgICAgICAgICBpZiAoIXRvdWNoKSB7XG4gICAgICAgICAgICAvL3NsaWRlci5zbGlkZXMuZXEoc2xpZGVyLmN1cnJlbnRTbGlkZSkuZmFkZU91dChzbGlkZXIudmFycy5hbmltYXRpb25TcGVlZCwgc2xpZGVyLnZhcnMuZWFzaW5nKTtcbiAgICAgICAgICAgIC8vc2xpZGVyLnNsaWRlcy5lcSh0YXJnZXQpLmZhZGVJbihzbGlkZXIudmFycy5hbmltYXRpb25TcGVlZCwgc2xpZGVyLnZhcnMuZWFzaW5nLCBzbGlkZXIud3JhcHVwKTtcblxuICAgICAgICAgICAgc2xpZGVyLnNsaWRlcy5lcShzbGlkZXIuY3VycmVudFNsaWRlKS5jc3Moe1wiekluZGV4XCI6IDF9KS5hbmltYXRlKHtcIm9wYWNpdHlcIjogMH0sIHNsaWRlci52YXJzLmFuaW1hdGlvblNwZWVkLCBzbGlkZXIudmFycy5lYXNpbmcpO1xuICAgICAgICAgICAgc2xpZGVyLnNsaWRlcy5lcSh0YXJnZXQpLmNzcyh7XCJ6SW5kZXhcIjogMn0pLmFuaW1hdGUoe1wib3BhY2l0eVwiOiAxfSwgc2xpZGVyLnZhcnMuYW5pbWF0aW9uU3BlZWQsIHNsaWRlci52YXJzLmVhc2luZywgc2xpZGVyLndyYXB1cCk7XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2xpZGVyLnNsaWRlcy5lcShzbGlkZXIuY3VycmVudFNsaWRlKS5jc3MoeyBcIm9wYWNpdHlcIjogMCwgXCJ6SW5kZXhcIjogMSB9KTtcbiAgICAgICAgICAgIHNsaWRlci5zbGlkZXMuZXEodGFyZ2V0KS5jc3MoeyBcIm9wYWNpdHlcIjogMSwgXCJ6SW5kZXhcIjogMiB9KTtcbiAgICAgICAgICAgIHNsaWRlci53cmFwdXAoZGltZW5zaW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU01PT1RIIEhFSUdIVDpcbiAgICAgICAgaWYgKHNsaWRlci52YXJzLnNtb290aEhlaWdodCkgbWV0aG9kcy5zbW9vdGhIZWlnaHQoc2xpZGVyLnZhcnMuYW5pbWF0aW9uU3BlZWQpO1xuICAgICAgfVxuICAgIH07XG4gICAgc2xpZGVyLndyYXB1cCA9IGZ1bmN0aW9uKGRpbWVuc2lvbikge1xuICAgICAgLy8gU0xJREU6XG4gICAgICBpZiAoIWZhZGUgJiYgIWNhcm91c2VsKSB7XG4gICAgICAgIGlmIChzbGlkZXIuY3VycmVudFNsaWRlID09PSAwICYmIHNsaWRlci5hbmltYXRpbmdUbyA9PT0gc2xpZGVyLmxhc3QgJiYgc2xpZGVyLnZhcnMuYW5pbWF0aW9uTG9vcCkge1xuICAgICAgICAgIHNsaWRlci5zZXRQcm9wcyhkaW1lbnNpb24sIFwianVtcEVuZFwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChzbGlkZXIuY3VycmVudFNsaWRlID09PSBzbGlkZXIubGFzdCAmJiBzbGlkZXIuYW5pbWF0aW5nVG8gPT09IDAgJiYgc2xpZGVyLnZhcnMuYW5pbWF0aW9uTG9vcCkge1xuICAgICAgICAgIHNsaWRlci5zZXRQcm9wcyhkaW1lbnNpb24sIFwianVtcFN0YXJ0XCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzbGlkZXIuYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICBzbGlkZXIuY3VycmVudFNsaWRlID0gc2xpZGVyLmFuaW1hdGluZ1RvO1xuICAgICAgLy8gQVBJOiBhZnRlcigpIGFuaW1hdGlvbiBDYWxsYmFja1xuICAgICAgc2xpZGVyLnZhcnMuYWZ0ZXIoc2xpZGVyKTtcbiAgICB9O1xuXG4gICAgLy8gU0xJREVTSE9XOlxuICAgIHNsaWRlci5hbmltYXRlU2xpZGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXNsaWRlci5hbmltYXRpbmcgJiYgZm9jdXNlZCApIHNsaWRlci5mbGV4QW5pbWF0ZShzbGlkZXIuZ2V0VGFyZ2V0KFwibmV4dFwiKSk7XG4gICAgfTtcbiAgICAvLyBTTElERVNIT1c6XG4gICAgc2xpZGVyLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgICBjbGVhckludGVydmFsKHNsaWRlci5hbmltYXRlZFNsaWRlcyk7XG4gICAgICBzbGlkZXIuYW5pbWF0ZWRTbGlkZXMgPSBudWxsO1xuICAgICAgc2xpZGVyLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgIC8vIFBBVVNFUExBWTpcbiAgICAgIGlmIChzbGlkZXIudmFycy5wYXVzZVBsYXkpIG1ldGhvZHMucGF1c2VQbGF5LnVwZGF0ZShcInBsYXlcIik7XG4gICAgICAvLyBTWU5DOlxuICAgICAgaWYgKHNsaWRlci5zeW5jRXhpc3RzKSBtZXRob2RzLnN5bmMoXCJwYXVzZVwiKTtcbiAgICB9O1xuICAgIC8vIFNMSURFU0hPVzpcbiAgICBzbGlkZXIucGxheSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHNsaWRlci5wbGF5aW5nKSBjbGVhckludGVydmFsKHNsaWRlci5hbmltYXRlZFNsaWRlcyk7XG4gICAgICBzbGlkZXIuYW5pbWF0ZWRTbGlkZXMgPSBzbGlkZXIuYW5pbWF0ZWRTbGlkZXMgfHwgc2V0SW50ZXJ2YWwoc2xpZGVyLmFuaW1hdGVTbGlkZXMsIHNsaWRlci52YXJzLnNsaWRlc2hvd1NwZWVkKTtcbiAgICAgIHNsaWRlci5zdGFydGVkID0gc2xpZGVyLnBsYXlpbmcgPSB0cnVlO1xuICAgICAgLy8gUEFVU0VQTEFZOlxuICAgICAgaWYgKHNsaWRlci52YXJzLnBhdXNlUGxheSkgbWV0aG9kcy5wYXVzZVBsYXkudXBkYXRlKFwicGF1c2VcIik7XG4gICAgICAvLyBTWU5DOlxuICAgICAgaWYgKHNsaWRlci5zeW5jRXhpc3RzKSBtZXRob2RzLnN5bmMoXCJwbGF5XCIpO1xuICAgIH07XG4gICAgLy8gU1RPUDpcbiAgICBzbGlkZXIuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHNsaWRlci5wYXVzZSgpO1xuICAgICAgc2xpZGVyLnN0b3BwZWQgPSB0cnVlO1xuICAgIH07XG4gICAgc2xpZGVyLmNhbkFkdmFuY2UgPSBmdW5jdGlvbih0YXJnZXQsIGZyb21OYXYpIHtcbiAgICAgIC8vIEFTTkFWOlxuICAgICAgdmFyIGxhc3QgPSAoYXNOYXYpID8gc2xpZGVyLnBhZ2luZ0NvdW50IC0gMSA6IHNsaWRlci5sYXN0O1xuICAgICAgcmV0dXJuIChmcm9tTmF2KSA/IHRydWUgOlxuICAgICAgICAgICAgIChhc05hdiAmJiBzbGlkZXIuY3VycmVudEl0ZW0gPT09IHNsaWRlci5jb3VudCAtIDEgJiYgdGFyZ2V0ID09PSAwICYmIHNsaWRlci5kaXJlY3Rpb24gPT09IFwicHJldlwiKSA/IHRydWUgOlxuICAgICAgICAgICAgIChhc05hdiAmJiBzbGlkZXIuY3VycmVudEl0ZW0gPT09IDAgJiYgdGFyZ2V0ID09PSBzbGlkZXIucGFnaW5nQ291bnQgLSAxICYmIHNsaWRlci5kaXJlY3Rpb24gIT09IFwibmV4dFwiKSA/IGZhbHNlIDpcbiAgICAgICAgICAgICAodGFyZ2V0ID09PSBzbGlkZXIuY3VycmVudFNsaWRlICYmICFhc05hdikgPyBmYWxzZSA6XG4gICAgICAgICAgICAgKHNsaWRlci52YXJzLmFuaW1hdGlvbkxvb3ApID8gdHJ1ZSA6XG4gICAgICAgICAgICAgKHNsaWRlci5hdEVuZCAmJiBzbGlkZXIuY3VycmVudFNsaWRlID09PSAwICYmIHRhcmdldCA9PT0gbGFzdCAmJiBzbGlkZXIuZGlyZWN0aW9uICE9PSBcIm5leHRcIikgPyBmYWxzZSA6XG4gICAgICAgICAgICAgKHNsaWRlci5hdEVuZCAmJiBzbGlkZXIuY3VycmVudFNsaWRlID09PSBsYXN0ICYmIHRhcmdldCA9PT0gMCAmJiBzbGlkZXIuZGlyZWN0aW9uID09PSBcIm5leHRcIikgPyBmYWxzZSA6XG4gICAgICAgICAgICAgdHJ1ZTtcbiAgICB9O1xuICAgIHNsaWRlci5nZXRUYXJnZXQgPSBmdW5jdGlvbihkaXIpIHtcbiAgICAgIHNsaWRlci5kaXJlY3Rpb24gPSBkaXI7XG4gICAgICBpZiAoZGlyID09PSBcIm5leHRcIikge1xuICAgICAgICByZXR1cm4gKHNsaWRlci5jdXJyZW50U2xpZGUgPT09IHNsaWRlci5sYXN0KSA/IDAgOiBzbGlkZXIuY3VycmVudFNsaWRlICsgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoc2xpZGVyLmN1cnJlbnRTbGlkZSA9PT0gMCkgPyBzbGlkZXIubGFzdCA6IHNsaWRlci5jdXJyZW50U2xpZGUgLSAxO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBTTElERTpcbiAgICBzbGlkZXIuc2V0UHJvcHMgPSBmdW5jdGlvbihwb3MsIHNwZWNpYWwsIGR1cikge1xuICAgICAgdmFyIHRhcmdldCA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHBvc0NoZWNrID0gKHBvcykgPyBwb3MgOiAoKHNsaWRlci5pdGVtVyArIHNsaWRlci52YXJzLml0ZW1NYXJnaW4pICogc2xpZGVyLm1vdmUpICogc2xpZGVyLmFuaW1hdGluZ1RvLFxuICAgICAgICAgICAgcG9zQ2FsYyA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKGNhcm91c2VsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChzcGVjaWFsID09PSBcInNldFRvdWNoXCIpID8gcG9zIDpcbiAgICAgICAgICAgICAgICAgICAgICAgKHJldmVyc2UgJiYgc2xpZGVyLmFuaW1hdGluZ1RvID09PSBzbGlkZXIubGFzdCkgPyAwIDpcbiAgICAgICAgICAgICAgICAgICAgICAgKHJldmVyc2UpID8gc2xpZGVyLmxpbWl0IC0gKCgoc2xpZGVyLml0ZW1XICsgc2xpZGVyLnZhcnMuaXRlbU1hcmdpbikgKiBzbGlkZXIubW92ZSkgKiBzbGlkZXIuYW5pbWF0aW5nVG8pIDpcbiAgICAgICAgICAgICAgICAgICAgICAgKHNsaWRlci5hbmltYXRpbmdUbyA9PT0gc2xpZGVyLmxhc3QpID8gc2xpZGVyLmxpbWl0IDogcG9zQ2hlY2s7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChzcGVjaWFsKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwic2V0VG90YWxcIjogcmV0dXJuIChyZXZlcnNlKSA/ICgoc2xpZGVyLmNvdW50IC0gMSkgLSBzbGlkZXIuY3VycmVudFNsaWRlICsgc2xpZGVyLmNsb25lT2Zmc2V0KSAqIHBvcyA6IChzbGlkZXIuY3VycmVudFNsaWRlICsgc2xpZGVyLmNsb25lT2Zmc2V0KSAqIHBvcztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJzZXRUb3VjaFwiOiByZXR1cm4gKHJldmVyc2UpID8gcG9zIDogcG9zO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImp1bXBFbmRcIjogcmV0dXJuIChyZXZlcnNlKSA/IHBvcyA6IHNsaWRlci5jb3VudCAqIHBvcztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJqdW1wU3RhcnRcIjogcmV0dXJuIChyZXZlcnNlKSA/IHNsaWRlci5jb3VudCAqIHBvcyA6IHBvcztcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBwb3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gKHBvc0NhbGMgKiAtMSkgKyBcInB4XCI7XG4gICAgICAgICAgfSgpKTtcblxuICAgICAgaWYgKHNsaWRlci50cmFuc2l0aW9ucykge1xuICAgICAgICB0YXJnZXQgPSAodmVydGljYWwpID8gXCJ0cmFuc2xhdGUzZCgwLFwiICsgdGFyZ2V0ICsgXCIsMClcIiA6IFwidHJhbnNsYXRlM2QoXCIgKyB0YXJnZXQgKyBcIiwwLDApXCI7XG4gICAgICAgIGR1ciA9IChkdXIgIT09IHVuZGVmaW5lZCkgPyAoZHVyLzEwMDApICsgXCJzXCIgOiBcIjBzXCI7XG4gICAgICAgIHNsaWRlci5jb250YWluZXIuY3NzKFwiLVwiICsgc2xpZGVyLnBmeCArIFwiLXRyYW5zaXRpb24tZHVyYXRpb25cIiwgZHVyKTtcbiAgICAgICAgIHNsaWRlci5jb250YWluZXIuY3NzKFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLCBkdXIpO1xuICAgICAgfVxuXG4gICAgICBzbGlkZXIuYXJnc1tzbGlkZXIucHJvcF0gPSB0YXJnZXQ7XG4gICAgICBpZiAoc2xpZGVyLnRyYW5zaXRpb25zIHx8IGR1ciA9PT0gdW5kZWZpbmVkKSBzbGlkZXIuY29udGFpbmVyLmNzcyhzbGlkZXIuYXJncyk7XG5cbiAgICAgIHNsaWRlci5jb250YWluZXIuY3NzKCd0cmFuc2Zvcm0nLHRhcmdldCk7XG4gICAgfTtcblxuICAgIHNsaWRlci5zZXR1cCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIC8vIFNMSURFOlxuICAgICAgaWYgKCFmYWRlKSB7XG4gICAgICAgIHZhciBzbGlkZXJPZmZzZXQsIGFycjtcblxuICAgICAgICBpZiAodHlwZSA9PT0gXCJpbml0XCIpIHtcbiAgICAgICAgICBzbGlkZXIudmlld3BvcnQgPSAkKCc8ZGl2IGNsYXNzPVwiJyArIG5hbWVzcGFjZSArICd2aWV3cG9ydFwiPjwvZGl2PicpLmNzcyh7XCJvdmVyZmxvd1wiOiBcImhpZGRlblwiLCBcInBvc2l0aW9uXCI6IFwicmVsYXRpdmVcIn0pLmFwcGVuZFRvKHNsaWRlcikuYXBwZW5kKHNsaWRlci5jb250YWluZXIpO1xuICAgICAgICAgIC8vIElORklOSVRFIExPT1A6XG4gICAgICAgICAgc2xpZGVyLmNsb25lQ291bnQgPSAwO1xuICAgICAgICAgIHNsaWRlci5jbG9uZU9mZnNldCA9IDA7XG4gICAgICAgICAgLy8gUkVWRVJTRTpcbiAgICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgYXJyID0gJC5tYWtlQXJyYXkoc2xpZGVyLnNsaWRlcykucmV2ZXJzZSgpO1xuICAgICAgICAgICAgc2xpZGVyLnNsaWRlcyA9ICQoYXJyKTtcbiAgICAgICAgICAgIHNsaWRlci5jb250YWluZXIuZW1wdHkoKS5hcHBlbmQoc2xpZGVyLnNsaWRlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElORklOSVRFIExPT1AgJiYgIUNBUk9VU0VMOlxuICAgICAgICBpZiAoc2xpZGVyLnZhcnMuYW5pbWF0aW9uTG9vcCAmJiAhY2Fyb3VzZWwpIHtcbiAgICAgICAgICBzbGlkZXIuY2xvbmVDb3VudCA9IDI7XG4gICAgICAgICAgc2xpZGVyLmNsb25lT2Zmc2V0ID0gMTtcbiAgICAgICAgICAvLyBjbGVhciBvdXQgb2xkIGNsb25lc1xuICAgICAgICAgIGlmICh0eXBlICE9PSBcImluaXRcIikgc2xpZGVyLmNvbnRhaW5lci5maW5kKCcuY2xvbmUnKS5yZW1vdmUoKTtcbiAgICAgICAgICBzbGlkZXIuY29udGFpbmVyLmFwcGVuZChtZXRob2RzLnVuaXF1ZUlEKHNsaWRlci5zbGlkZXMuZmlyc3QoKS5jbG9uZSgpLmFkZENsYXNzKCdjbG9uZScpKS5hdHRyKCdhcmlhLWhpZGRlbicsICd0cnVlJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5wcmVwZW5kKG1ldGhvZHMudW5pcXVlSUQoc2xpZGVyLnNsaWRlcy5sYXN0KCkuY2xvbmUoKS5hZGRDbGFzcygnY2xvbmUnKSkuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpKTtcbiAgICAgICAgfVxuICAgICAgICBzbGlkZXIubmV3U2xpZGVzID0gJChzbGlkZXIudmFycy5zZWxlY3Rvciwgc2xpZGVyKTtcblxuICAgICAgICBzbGlkZXJPZmZzZXQgPSAocmV2ZXJzZSkgPyBzbGlkZXIuY291bnQgLSAxIC0gc2xpZGVyLmN1cnJlbnRTbGlkZSArIHNsaWRlci5jbG9uZU9mZnNldCA6IHNsaWRlci5jdXJyZW50U2xpZGUgKyBzbGlkZXIuY2xvbmVPZmZzZXQ7XG4gICAgICAgIC8vIFZFUlRJQ0FMOlxuICAgICAgICBpZiAodmVydGljYWwgJiYgIWNhcm91c2VsKSB7XG4gICAgICAgICAgc2xpZGVyLmNvbnRhaW5lci5oZWlnaHQoKHNsaWRlci5jb3VudCArIHNsaWRlci5jbG9uZUNvdW50KSAqIDIwMCArIFwiJVwiKS5jc3MoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpLndpZHRoKFwiMTAwJVwiKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzbGlkZXIubmV3U2xpZGVzLmNzcyh7XCJkaXNwbGF5XCI6IFwiYmxvY2tcIn0pO1xuICAgICAgICAgICAgc2xpZGVyLmRvTWF0aCgpO1xuICAgICAgICAgICAgc2xpZGVyLnZpZXdwb3J0LmhlaWdodChzbGlkZXIuaCk7XG4gICAgICAgICAgICBzbGlkZXIuc2V0UHJvcHMoc2xpZGVyT2Zmc2V0ICogc2xpZGVyLmgsIFwiaW5pdFwiKTtcbiAgICAgICAgICB9LCAodHlwZSA9PT0gXCJpbml0XCIpID8gMTAwIDogMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2xpZGVyLmNvbnRhaW5lci53aWR0aCgoc2xpZGVyLmNvdW50ICsgc2xpZGVyLmNsb25lQ291bnQpICogMjAwICsgXCIlXCIpO1xuICAgICAgICAgIHNsaWRlci5zZXRQcm9wcyhzbGlkZXJPZmZzZXQgKiBzbGlkZXIuY29tcHV0ZWRXLCBcImluaXRcIik7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2xpZGVyLmRvTWF0aCgpO1xuICAgICAgICAgICAgc2xpZGVyLm5ld1NsaWRlcy5jc3Moe1wid2lkdGhcIjogc2xpZGVyLmNvbXB1dGVkVywgXCJmbG9hdFwiOiBcImxlZnRcIiwgXCJkaXNwbGF5XCI6IFwiYmxvY2tcIn0pO1xuICAgICAgICAgICAgLy8gU01PT1RIIEhFSUdIVDpcbiAgICAgICAgICAgIGlmIChzbGlkZXIudmFycy5zbW9vdGhIZWlnaHQpIG1ldGhvZHMuc21vb3RoSGVpZ2h0KCk7XG4gICAgICAgICAgfSwgKHR5cGUgPT09IFwiaW5pdFwiKSA/IDEwMCA6IDApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgeyAvLyBGQURFOlxuICAgICAgICBzbGlkZXIuc2xpZGVzLmNzcyh7XCJ3aWR0aFwiOiBcIjEwMCVcIiwgXCJmbG9hdFwiOiBcImxlZnRcIiwgXCJtYXJnaW5SaWdodFwiOiBcIi0xMDAlXCIsIFwicG9zaXRpb25cIjogXCJyZWxhdGl2ZVwifSk7XG4gICAgICAgIGlmICh0eXBlID09PSBcImluaXRcIikge1xuICAgICAgICAgIGlmICghdG91Y2gpIHtcbiAgICAgICAgICAgIC8vc2xpZGVyLnNsaWRlcy5lcShzbGlkZXIuY3VycmVudFNsaWRlKS5mYWRlSW4oc2xpZGVyLnZhcnMuYW5pbWF0aW9uU3BlZWQsIHNsaWRlci52YXJzLmVhc2luZyk7XG4gICAgICAgICAgICBpZiAoc2xpZGVyLnZhcnMuZmFkZUZpcnN0U2xpZGUgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgc2xpZGVyLnNsaWRlcy5jc3MoeyBcIm9wYWNpdHlcIjogMCwgXCJkaXNwbGF5XCI6IFwiYmxvY2tcIiwgXCJ6SW5kZXhcIjogMSB9KS5lcShzbGlkZXIuY3VycmVudFNsaWRlKS5jc3Moe1wiekluZGV4XCI6IDJ9KS5jc3Moe1wib3BhY2l0eVwiOiAxfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzbGlkZXIuc2xpZGVzLmNzcyh7IFwib3BhY2l0eVwiOiAwLCBcImRpc3BsYXlcIjogXCJibG9ja1wiLCBcInpJbmRleFwiOiAxIH0pLmVxKHNsaWRlci5jdXJyZW50U2xpZGUpLmNzcyh7XCJ6SW5kZXhcIjogMn0pLmFuaW1hdGUoe1wib3BhY2l0eVwiOiAxfSxzbGlkZXIudmFycy5hbmltYXRpb25TcGVlZCxzbGlkZXIudmFycy5lYXNpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzbGlkZXIuc2xpZGVzLmNzcyh7IFwib3BhY2l0eVwiOiAwLCBcImRpc3BsYXlcIjogXCJibG9ja1wiLCBcIndlYmtpdFRyYW5zaXRpb25cIjogXCJvcGFjaXR5IFwiICsgc2xpZGVyLnZhcnMuYW5pbWF0aW9uU3BlZWQgLyAxMDAwICsgXCJzIGVhc2VcIiwgXCJ6SW5kZXhcIjogMSB9KS5lcShzbGlkZXIuY3VycmVudFNsaWRlKS5jc3MoeyBcIm9wYWNpdHlcIjogMSwgXCJ6SW5kZXhcIjogMn0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTTU9PVEggSEVJR0hUOlxuICAgICAgICBpZiAoc2xpZGVyLnZhcnMuc21vb3RoSGVpZ2h0KSBtZXRob2RzLnNtb290aEhlaWdodCgpO1xuICAgICAgfVxuICAgICAgLy8gIUNBUk9VU0VMOlxuICAgICAgLy8gQ0FORElEQVRFOiBhY3RpdmUgc2xpZGVcbiAgICAgIGlmICghY2Fyb3VzZWwpIHNsaWRlci5zbGlkZXMucmVtb3ZlQ2xhc3MobmFtZXNwYWNlICsgXCJhY3RpdmUtc2xpZGVcIikuZXEoc2xpZGVyLmN1cnJlbnRTbGlkZSkuYWRkQ2xhc3MobmFtZXNwYWNlICsgXCJhY3RpdmUtc2xpZGVcIik7XG5cbiAgICAgIC8vRmxleFNsaWRlcjogaW5pdCgpIENhbGxiYWNrXG4gICAgICBzbGlkZXIudmFycy5pbml0KHNsaWRlcik7XG4gICAgfTtcblxuICAgIHNsaWRlci5kb01hdGggPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzbGlkZSA9IHNsaWRlci5zbGlkZXMuZmlyc3QoKSxcbiAgICAgICAgICBzbGlkZU1hcmdpbiA9IHNsaWRlci52YXJzLml0ZW1NYXJnaW4sXG4gICAgICAgICAgbWluSXRlbXMgPSBzbGlkZXIudmFycy5taW5JdGVtcyxcbiAgICAgICAgICBtYXhJdGVtcyA9IHNsaWRlci52YXJzLm1heEl0ZW1zO1xuXG4gICAgICBzbGlkZXIudyA9IChzbGlkZXIudmlld3BvcnQ9PT11bmRlZmluZWQpID8gc2xpZGVyLndpZHRoKCkgOiBzbGlkZXIudmlld3BvcnQud2lkdGgoKTtcbiAgICAgIHNsaWRlci5oID0gc2xpZGUuaGVpZ2h0KCk7XG4gICAgICBzbGlkZXIuYm94UGFkZGluZyA9IHNsaWRlLm91dGVyV2lkdGgoKSAtIHNsaWRlLndpZHRoKCk7XG5cbiAgICAgIC8vIENBUk9VU0VMOlxuICAgICAgaWYgKGNhcm91c2VsKSB7XG4gICAgICAgIHNsaWRlci5pdGVtVCA9IHNsaWRlci52YXJzLml0ZW1XaWR0aCArIHNsaWRlTWFyZ2luO1xuICAgICAgICBzbGlkZXIubWluVyA9IChtaW5JdGVtcykgPyBtaW5JdGVtcyAqIHNsaWRlci5pdGVtVCA6IHNsaWRlci53O1xuICAgICAgICBzbGlkZXIubWF4VyA9IChtYXhJdGVtcykgPyAobWF4SXRlbXMgKiBzbGlkZXIuaXRlbVQpIC0gc2xpZGVNYXJnaW4gOiBzbGlkZXIudztcbiAgICAgICAgc2xpZGVyLml0ZW1XID0gKHNsaWRlci5taW5XID4gc2xpZGVyLncpID8gKHNsaWRlci53IC0gKHNsaWRlTWFyZ2luICogKG1pbkl0ZW1zIC0gMSkpKS9taW5JdGVtcyA6XG4gICAgICAgICAgICAgICAgICAgICAgIChzbGlkZXIubWF4VyA8IHNsaWRlci53KSA/IChzbGlkZXIudyAtIChzbGlkZU1hcmdpbiAqIChtYXhJdGVtcyAtIDEpKSkvbWF4SXRlbXMgOlxuICAgICAgICAgICAgICAgICAgICAgICAoc2xpZGVyLnZhcnMuaXRlbVdpZHRoID4gc2xpZGVyLncpID8gc2xpZGVyLncgOiBzbGlkZXIudmFycy5pdGVtV2lkdGg7XG5cbiAgICAgICAgc2xpZGVyLnZpc2libGUgPSBNYXRoLmZsb29yKHNsaWRlci53LyhzbGlkZXIuaXRlbVcpKTtcbiAgICAgICAgc2xpZGVyLm1vdmUgPSAoc2xpZGVyLnZhcnMubW92ZSA+IDAgJiYgc2xpZGVyLnZhcnMubW92ZSA8IHNsaWRlci52aXNpYmxlICkgPyBzbGlkZXIudmFycy5tb3ZlIDogc2xpZGVyLnZpc2libGU7XG4gICAgICAgIHNsaWRlci5wYWdpbmdDb3VudCA9IE1hdGguY2VpbCgoKHNsaWRlci5jb3VudCAtIHNsaWRlci52aXNpYmxlKS9zbGlkZXIubW92ZSkgKyAxKTtcbiAgICAgICAgc2xpZGVyLmxhc3QgPSAgc2xpZGVyLnBhZ2luZ0NvdW50IC0gMTtcbiAgICAgICAgc2xpZGVyLmxpbWl0ID0gKHNsaWRlci5wYWdpbmdDb3VudCA9PT0gMSkgPyAwIDpcbiAgICAgICAgICAgICAgICAgICAgICAgKHNsaWRlci52YXJzLml0ZW1XaWR0aCA+IHNsaWRlci53KSA/IChzbGlkZXIuaXRlbVcgKiAoc2xpZGVyLmNvdW50IC0gMSkpICsgKHNsaWRlTWFyZ2luICogKHNsaWRlci5jb3VudCAtIDEpKSA6ICgoc2xpZGVyLml0ZW1XICsgc2xpZGVNYXJnaW4pICogc2xpZGVyLmNvdW50KSAtIHNsaWRlci53IC0gc2xpZGVNYXJnaW47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGlkZXIuaXRlbVcgPSBzbGlkZXIudztcbiAgICAgICAgc2xpZGVyLnBhZ2luZ0NvdW50ID0gc2xpZGVyLmNvdW50O1xuICAgICAgICBzbGlkZXIubGFzdCA9IHNsaWRlci5jb3VudCAtIDE7XG4gICAgICB9XG4gICAgICBzbGlkZXIuY29tcHV0ZWRXID0gc2xpZGVyLml0ZW1XIC0gc2xpZGVyLmJveFBhZGRpbmc7XG4gICAgfTtcblxuICAgIHNsaWRlci51cGRhdGUgPSBmdW5jdGlvbihwb3MsIGFjdGlvbikge1xuICAgICAgc2xpZGVyLmRvTWF0aCgpO1xuXG4gICAgICAvLyB1cGRhdGUgY3VycmVudFNsaWRlIGFuZCBzbGlkZXIuYW5pbWF0aW5nVG8gaWYgbmVjZXNzYXJ5XG4gICAgICBpZiAoIWNhcm91c2VsKSB7XG4gICAgICAgIGlmIChwb3MgPCBzbGlkZXIuY3VycmVudFNsaWRlKSB7XG4gICAgICAgICAgc2xpZGVyLmN1cnJlbnRTbGlkZSArPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKHBvcyA8PSBzbGlkZXIuY3VycmVudFNsaWRlICYmIHBvcyAhPT0gMCkge1xuICAgICAgICAgIHNsaWRlci5jdXJyZW50U2xpZGUgLT0gMTtcbiAgICAgICAgfVxuICAgICAgICBzbGlkZXIuYW5pbWF0aW5nVG8gPSBzbGlkZXIuY3VycmVudFNsaWRlO1xuICAgICAgfVxuXG4gICAgICAvLyB1cGRhdGUgY29udHJvbE5hdlxuICAgICAgaWYgKHNsaWRlci52YXJzLmNvbnRyb2xOYXYgJiYgIXNsaWRlci5tYW51YWxDb250cm9scykge1xuICAgICAgICBpZiAoKGFjdGlvbiA9PT0gXCJhZGRcIiAmJiAhY2Fyb3VzZWwpIHx8IHNsaWRlci5wYWdpbmdDb3VudCA+IHNsaWRlci5jb250cm9sTmF2Lmxlbmd0aCkge1xuICAgICAgICAgIG1ldGhvZHMuY29udHJvbE5hdi51cGRhdGUoXCJhZGRcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoKGFjdGlvbiA9PT0gXCJyZW1vdmVcIiAmJiAhY2Fyb3VzZWwpIHx8IHNsaWRlci5wYWdpbmdDb3VudCA8IHNsaWRlci5jb250cm9sTmF2Lmxlbmd0aCkge1xuICAgICAgICAgIGlmIChjYXJvdXNlbCAmJiBzbGlkZXIuY3VycmVudFNsaWRlID4gc2xpZGVyLmxhc3QpIHtcbiAgICAgICAgICAgIHNsaWRlci5jdXJyZW50U2xpZGUgLT0gMTtcbiAgICAgICAgICAgIHNsaWRlci5hbmltYXRpbmdUbyAtPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXRob2RzLmNvbnRyb2xOYXYudXBkYXRlKFwicmVtb3ZlXCIsIHNsaWRlci5sYXN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gdXBkYXRlIGRpcmVjdGlvbk5hdlxuICAgICAgaWYgKHNsaWRlci52YXJzLmRpcmVjdGlvbk5hdikgbWV0aG9kcy5kaXJlY3Rpb25OYXYudXBkYXRlKCk7XG5cbiAgICB9O1xuXG4gICAgc2xpZGVyLmFkZFNsaWRlID0gZnVuY3Rpb24ob2JqLCBwb3MpIHtcbiAgICAgIHZhciAkb2JqID0gJChvYmopO1xuXG4gICAgICBzbGlkZXIuY291bnQgKz0gMTtcbiAgICAgIHNsaWRlci5sYXN0ID0gc2xpZGVyLmNvdW50IC0gMTtcblxuICAgICAgLy8gYXBwZW5kIG5ldyBzbGlkZVxuICAgICAgaWYgKHZlcnRpY2FsICYmIHJldmVyc2UpIHtcbiAgICAgICAgKHBvcyAhPT0gdW5kZWZpbmVkKSA/IHNsaWRlci5zbGlkZXMuZXEoc2xpZGVyLmNvdW50IC0gcG9zKS5hZnRlcigkb2JqKSA6IHNsaWRlci5jb250YWluZXIucHJlcGVuZCgkb2JqKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIChwb3MgIT09IHVuZGVmaW5lZCkgPyBzbGlkZXIuc2xpZGVzLmVxKHBvcykuYmVmb3JlKCRvYmopIDogc2xpZGVyLmNvbnRhaW5lci5hcHBlbmQoJG9iaik7XG4gICAgICB9XG5cbiAgICAgIC8vIHVwZGF0ZSBjdXJyZW50U2xpZGUsIGFuaW1hdGluZ1RvLCBjb250cm9sTmF2LCBhbmQgZGlyZWN0aW9uTmF2XG4gICAgICBzbGlkZXIudXBkYXRlKHBvcywgXCJhZGRcIik7XG5cbiAgICAgIC8vIHVwZGF0ZSBzbGlkZXIuc2xpZGVzXG4gICAgICBzbGlkZXIuc2xpZGVzID0gJChzbGlkZXIudmFycy5zZWxlY3RvciArICc6bm90KC5jbG9uZSknLCBzbGlkZXIpO1xuICAgICAgLy8gcmUtc2V0dXAgdGhlIHNsaWRlciB0byBhY2NvbWRhdGUgbmV3IHNsaWRlXG4gICAgICBzbGlkZXIuc2V0dXAoKTtcblxuICAgICAgLy9GbGV4U2xpZGVyOiBhZGRlZCgpIENhbGxiYWNrXG4gICAgICBzbGlkZXIudmFycy5hZGRlZChzbGlkZXIpO1xuICAgIH07XG4gICAgc2xpZGVyLnJlbW92ZVNsaWRlID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgcG9zID0gKGlzTmFOKG9iaikpID8gc2xpZGVyLnNsaWRlcy5pbmRleCgkKG9iaikpIDogb2JqO1xuXG4gICAgICAvLyB1cGRhdGUgY291bnRcbiAgICAgIHNsaWRlci5jb3VudCAtPSAxO1xuICAgICAgc2xpZGVyLmxhc3QgPSBzbGlkZXIuY291bnQgLSAxO1xuXG4gICAgICAvLyByZW1vdmUgc2xpZGVcbiAgICAgIGlmIChpc05hTihvYmopKSB7XG4gICAgICAgICQob2JqLCBzbGlkZXIuc2xpZGVzKS5yZW1vdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICh2ZXJ0aWNhbCAmJiByZXZlcnNlKSA/IHNsaWRlci5zbGlkZXMuZXEoc2xpZGVyLmxhc3QpLnJlbW92ZSgpIDogc2xpZGVyLnNsaWRlcy5lcShvYmopLnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICAvLyB1cGRhdGUgY3VycmVudFNsaWRlLCBhbmltYXRpbmdUbywgY29udHJvbE5hdiwgYW5kIGRpcmVjdGlvbk5hdlxuICAgICAgc2xpZGVyLmRvTWF0aCgpO1xuICAgICAgc2xpZGVyLnVwZGF0ZShwb3MsIFwicmVtb3ZlXCIpO1xuXG4gICAgICAvLyB1cGRhdGUgc2xpZGVyLnNsaWRlc1xuICAgICAgc2xpZGVyLnNsaWRlcyA9ICQoc2xpZGVyLnZhcnMuc2VsZWN0b3IgKyAnOm5vdCguY2xvbmUpJywgc2xpZGVyKTtcbiAgICAgIC8vIHJlLXNldHVwIHRoZSBzbGlkZXIgdG8gYWNjb21kYXRlIG5ldyBzbGlkZVxuICAgICAgc2xpZGVyLnNldHVwKCk7XG5cbiAgICAgIC8vIEZsZXhTbGlkZXI6IHJlbW92ZWQoKSBDYWxsYmFja1xuICAgICAgc2xpZGVyLnZhcnMucmVtb3ZlZChzbGlkZXIpO1xuICAgIH07XG5cbiAgICAvL0ZsZXhTbGlkZXI6IEluaXRpYWxpemVcbiAgICBtZXRob2RzLmluaXQoKTtcbiAgfTtcblxuICAvLyBFbnN1cmUgdGhlIHNsaWRlciBpc24ndCBmb2N1c3NlZCBpZiB0aGUgd2luZG93IGxvc2VzIGZvY3VzLlxuICAkKCB3aW5kb3cgKS5ibHVyKCBmdW5jdGlvbiAoIGUgKSB7XG4gICAgZm9jdXNlZCA9IGZhbHNlO1xuICB9KS5mb2N1cyggZnVuY3Rpb24gKCBlICkge1xuICAgIGZvY3VzZWQgPSB0cnVlO1xuICB9KTtcblxuICAvL0ZsZXhTbGlkZXI6IERlZmF1bHQgU2V0dGluZ3NcbiAgJC5mbGV4c2xpZGVyLmRlZmF1bHRzID0ge1xuICAgIG5hbWVzcGFjZTogXCJmbGV4LVwiLCAgICAgICAgICAgICAvL3tORVd9IFN0cmluZzogUHJlZml4IHN0cmluZyBhdHRhY2hlZCB0byB0aGUgY2xhc3Mgb2YgZXZlcnkgZWxlbWVudCBnZW5lcmF0ZWQgYnkgdGhlIHBsdWdpblxuICAgIHNlbGVjdG9yOiBcIi5zbGlkZXMgPiBsaVwiLCAgICAgICAvL3tORVd9IFNlbGVjdG9yOiBNdXN0IG1hdGNoIGEgc2ltcGxlIHBhdHRlcm4uICd7Y29udGFpbmVyfSA+IHtzbGlkZX0nIC0tIElnbm9yZSBwYXR0ZXJuIGF0IHlvdXIgb3duIHBlcmlsXG4gICAgYW5pbWF0aW9uOiBcImZhZGVcIiwgICAgICAgICAgICAgIC8vU3RyaW5nOiBTZWxlY3QgeW91ciBhbmltYXRpb24gdHlwZSwgXCJmYWRlXCIgb3IgXCJzbGlkZVwiXG4gICAgZWFzaW5nOiBcInN3aW5nXCIsICAgICAgICAgICAgICAgIC8ve05FV30gU3RyaW5nOiBEZXRlcm1pbmVzIHRoZSBlYXNpbmcgbWV0aG9kIHVzZWQgaW4galF1ZXJ5IHRyYW5zaXRpb25zLiBqUXVlcnkgZWFzaW5nIHBsdWdpbiBpcyBzdXBwb3J0ZWQhXG4gICAgZGlyZWN0aW9uOiBcImhvcml6b250YWxcIiwgICAgICAgIC8vU3RyaW5nOiBTZWxlY3QgdGhlIHNsaWRpbmcgZGlyZWN0aW9uLCBcImhvcml6b250YWxcIiBvciBcInZlcnRpY2FsXCJcbiAgICByZXZlcnNlOiBmYWxzZSwgICAgICAgICAgICAgICAgIC8ve05FV30gQm9vbGVhbjogUmV2ZXJzZSB0aGUgYW5pbWF0aW9uIGRpcmVjdGlvblxuICAgIGFuaW1hdGlvbkxvb3A6IHRydWUsICAgICAgICAgICAgLy9Cb29sZWFuOiBTaG91bGQgdGhlIGFuaW1hdGlvbiBsb29wPyBJZiBmYWxzZSwgZGlyZWN0aW9uTmF2IHdpbGwgcmVjZWl2ZWQgXCJkaXNhYmxlXCIgY2xhc3NlcyBhdCBlaXRoZXIgZW5kXG4gICAgc21vb3RoSGVpZ2h0OiBmYWxzZSwgICAgICAgICAgICAvL3tORVd9IEJvb2xlYW46IEFsbG93IGhlaWdodCBvZiB0aGUgc2xpZGVyIHRvIGFuaW1hdGUgc21vb3RobHkgaW4gaG9yaXpvbnRhbCBtb2RlXG4gICAgc3RhcnRBdDogMCwgICAgICAgICAgICAgICAgICAgICAvL0ludGVnZXI6IFRoZSBzbGlkZSB0aGF0IHRoZSBzbGlkZXIgc2hvdWxkIHN0YXJ0IG9uLiBBcnJheSBub3RhdGlvbiAoMCA9IGZpcnN0IHNsaWRlKVxuICAgIHNsaWRlc2hvdzogdHJ1ZSwgICAgICAgICAgICAgICAgLy9Cb29sZWFuOiBBbmltYXRlIHNsaWRlciBhdXRvbWF0aWNhbGx5XG4gICAgc2xpZGVzaG93U3BlZWQ6IDcwMDAsICAgICAgICAgICAvL0ludGVnZXI6IFNldCB0aGUgc3BlZWQgb2YgdGhlIHNsaWRlc2hvdyBjeWNsaW5nLCBpbiBtaWxsaXNlY29uZHNcbiAgICBhbmltYXRpb25TcGVlZDogNjAwLCAgICAgICAgICAgIC8vSW50ZWdlcjogU2V0IHRoZSBzcGVlZCBvZiBhbmltYXRpb25zLCBpbiBtaWxsaXNlY29uZHNcbiAgICBpbml0RGVsYXk6IDAsICAgICAgICAgICAgICAgICAgIC8ve05FV30gSW50ZWdlcjogU2V0IGFuIGluaXRpYWxpemF0aW9uIGRlbGF5LCBpbiBtaWxsaXNlY29uZHNcbiAgICByYW5kb21pemU6IGZhbHNlLCAgICAgICAgICAgICAgIC8vQm9vbGVhbjogUmFuZG9taXplIHNsaWRlIG9yZGVyXG4gICAgZmFkZUZpcnN0U2xpZGU6IHRydWUsICAgICAgICAgICAvL0Jvb2xlYW46IEZhZGUgaW4gdGhlIGZpcnN0IHNsaWRlIHdoZW4gYW5pbWF0aW9uIHR5cGUgaXMgXCJmYWRlXCJcbiAgICB0aHVtYkNhcHRpb25zOiBmYWxzZSwgICAgICAgICAgIC8vQm9vbGVhbjogV2hldGhlciBvciBub3QgdG8gcHV0IGNhcHRpb25zIG9uIHRodW1ibmFpbHMgd2hlbiB1c2luZyB0aGUgXCJ0aHVtYm5haWxzXCIgY29udHJvbE5hdi5cblxuICAgIC8vIFVzYWJpbGl0eSBmZWF0dXJlc1xuICAgIHBhdXNlT25BY3Rpb246IHRydWUsICAgICAgICAgICAgLy9Cb29sZWFuOiBQYXVzZSB0aGUgc2xpZGVzaG93IHdoZW4gaW50ZXJhY3Rpbmcgd2l0aCBjb250cm9sIGVsZW1lbnRzLCBoaWdobHkgcmVjb21tZW5kZWQuXG4gICAgcGF1c2VPbkhvdmVyOiBmYWxzZSwgICAgICAgICAgICAvL0Jvb2xlYW46IFBhdXNlIHRoZSBzbGlkZXNob3cgd2hlbiBob3ZlcmluZyBvdmVyIHNsaWRlciwgdGhlbiByZXN1bWUgd2hlbiBubyBsb25nZXIgaG92ZXJpbmdcbiAgICBwYXVzZUludmlzaWJsZTogdHJ1ZSwgICBcdFx0Ly97TkVXfSBCb29sZWFuOiBQYXVzZSB0aGUgc2xpZGVzaG93IHdoZW4gdGFiIGlzIGludmlzaWJsZSwgcmVzdW1lIHdoZW4gdmlzaWJsZS4gUHJvdmlkZXMgYmV0dGVyIFVYLCBsb3dlciBDUFUgdXNhZ2UuXG4gICAgdXNlQ1NTOiB0cnVlLCAgICAgICAgICAgICAgICAgICAvL3tORVd9IEJvb2xlYW46IFNsaWRlciB3aWxsIHVzZSBDU1MzIHRyYW5zaXRpb25zIGlmIGF2YWlsYWJsZVxuICAgIHRvdWNoOiB0cnVlLCAgICAgICAgICAgICAgICAgICAgLy97TkVXfSBCb29sZWFuOiBBbGxvdyB0b3VjaCBzd2lwZSBuYXZpZ2F0aW9uIG9mIHRoZSBzbGlkZXIgb24gdG91Y2gtZW5hYmxlZCBkZXZpY2VzXG4gICAgdmlkZW86IGZhbHNlLCAgICAgICAgICAgICAgICAgICAvL3tORVd9IEJvb2xlYW46IElmIHVzaW5nIHZpZGVvIGluIHRoZSBzbGlkZXIsIHdpbGwgcHJldmVudCBDU1MzIDNEIFRyYW5zZm9ybXMgdG8gYXZvaWQgZ3JhcGhpY2FsIGdsaXRjaGVzXG5cbiAgICAvLyBQcmltYXJ5IENvbnRyb2xzXG4gICAgY29udHJvbE5hdjogdHJ1ZSwgICAgICAgICAgICAgICAvL0Jvb2xlYW46IENyZWF0ZSBuYXZpZ2F0aW9uIGZvciBwYWdpbmcgY29udHJvbCBvZiBlYWNoIHNsaWRlPyBOb3RlOiBMZWF2ZSB0cnVlIGZvciBtYW51YWxDb250cm9scyB1c2FnZVxuICAgIGRpcmVjdGlvbk5hdjogdHJ1ZSwgICAgICAgICAgICAgLy9Cb29sZWFuOiBDcmVhdGUgbmF2aWdhdGlvbiBmb3IgcHJldmlvdXMvbmV4dCBuYXZpZ2F0aW9uPyAodHJ1ZS9mYWxzZSlcbiAgICBwcmV2VGV4dDogXCJQcmV2aW91c1wiLCAgICAgICAgICAgLy9TdHJpbmc6IFNldCB0aGUgdGV4dCBmb3IgdGhlIFwicHJldmlvdXNcIiBkaXJlY3Rpb25OYXYgaXRlbVxuICAgIG5leHRUZXh0OiBcIk5leHRcIiwgICAgICAgICAgICAgICAvL1N0cmluZzogU2V0IHRoZSB0ZXh0IGZvciB0aGUgXCJuZXh0XCIgZGlyZWN0aW9uTmF2IGl0ZW1cblxuICAgIC8vIFNlY29uZGFyeSBOYXZpZ2F0aW9uXG4gICAga2V5Ym9hcmQ6IHRydWUsICAgICAgICAgICAgICAgICAvL0Jvb2xlYW46IEFsbG93IHNsaWRlciBuYXZpZ2F0aW5nIHZpYSBrZXlib2FyZCBsZWZ0L3JpZ2h0IGtleXNcbiAgICBtdWx0aXBsZUtleWJvYXJkOiBmYWxzZSwgICAgICAgIC8ve05FV30gQm9vbGVhbjogQWxsb3cga2V5Ym9hcmQgbmF2aWdhdGlvbiB0byBhZmZlY3QgbXVsdGlwbGUgc2xpZGVycy4gRGVmYXVsdCBiZWhhdmlvciBjdXRzIG91dCBrZXlib2FyZCBuYXZpZ2F0aW9uIHdpdGggbW9yZSB0aGFuIG9uZSBzbGlkZXIgcHJlc2VudC5cbiAgICBtb3VzZXdoZWVsOiBmYWxzZSwgICAgICAgICAgICAgIC8ve1VQREFURUR9IEJvb2xlYW46IFJlcXVpcmVzIGpxdWVyeS5tb3VzZXdoZWVsLmpzIChodHRwczovL2dpdGh1Yi5jb20vYnJhbmRvbmFhcm9uL2pxdWVyeS1tb3VzZXdoZWVsKSAtIEFsbG93cyBzbGlkZXIgbmF2aWdhdGluZyB2aWEgbW91c2V3aGVlbFxuICAgIHBhdXNlUGxheTogZmFsc2UsICAgICAgICAgICAgICAgLy9Cb29sZWFuOiBDcmVhdGUgcGF1c2UvcGxheSBkeW5hbWljIGVsZW1lbnRcbiAgICBwYXVzZVRleHQ6IFwiUGF1c2VcIiwgICAgICAgICAgICAgLy9TdHJpbmc6IFNldCB0aGUgdGV4dCBmb3IgdGhlIFwicGF1c2VcIiBwYXVzZVBsYXkgaXRlbVxuICAgIHBsYXlUZXh0OiBcIlBsYXlcIiwgICAgICAgICAgICAgICAvL1N0cmluZzogU2V0IHRoZSB0ZXh0IGZvciB0aGUgXCJwbGF5XCIgcGF1c2VQbGF5IGl0ZW1cblxuICAgIC8vIFNwZWNpYWwgcHJvcGVydGllc1xuICAgIGNvbnRyb2xzQ29udGFpbmVyOiBcIlwiLCAgICAgICAgICAvL3tVUERBVEVEfSBqUXVlcnkgT2JqZWN0L1NlbGVjdG9yOiBEZWNsYXJlIHdoaWNoIGNvbnRhaW5lciB0aGUgbmF2aWdhdGlvbiBlbGVtZW50cyBzaG91bGQgYmUgYXBwZW5kZWQgdG9vLiBEZWZhdWx0IGNvbnRhaW5lciBpcyB0aGUgRmxleFNsaWRlciBlbGVtZW50LiBFeGFtcGxlIHVzZSB3b3VsZCBiZSAkKFwiLmZsZXhzbGlkZXItY29udGFpbmVyXCIpLiBQcm9wZXJ0eSBpcyBpZ25vcmVkIGlmIGdpdmVuIGVsZW1lbnQgaXMgbm90IGZvdW5kLlxuICAgIG1hbnVhbENvbnRyb2xzOiBcIlwiLCAgICAgICAgICAgICAvL3tVUERBVEVEfSBqUXVlcnkgT2JqZWN0L1NlbGVjdG9yOiBEZWNsYXJlIGN1c3RvbSBjb250cm9sIG5hdmlnYXRpb24uIEV4YW1wbGVzIHdvdWxkIGJlICQoXCIuZmxleC1jb250cm9sLW5hdiBsaVwiKSBvciBcIiN0YWJzLW5hdiBsaSBpbWdcIiwgZXRjLiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHlvdXIgY29udHJvbE5hdiBzaG91bGQgbWF0Y2ggdGhlIG51bWJlciBvZiBzbGlkZXMvdGFicy5cbiAgICBzeW5jOiBcIlwiLCAgICAgICAgICAgICAgICAgICAgICAgLy97TkVXfSBTZWxlY3RvcjogTWlycm9yIHRoZSBhY3Rpb25zIHBlcmZvcm1lZCBvbiB0aGlzIHNsaWRlciB3aXRoIGFub3RoZXIgc2xpZGVyLiBVc2Ugd2l0aCBjYXJlLlxuICAgIGFzTmF2Rm9yOiBcIlwiLCAgICAgICAgICAgICAgICAgICAvL3tORVd9IFNlbGVjdG9yOiBJbnRlcm5hbCBwcm9wZXJ0eSBleHBvc2VkIGZvciB0dXJuaW5nIHRoZSBzbGlkZXIgaW50byBhIHRodW1ibmFpbCBuYXZpZ2F0aW9uIGZvciBhbm90aGVyIHNsaWRlclxuXG4gICAgLy8gQ2Fyb3VzZWwgT3B0aW9uc1xuICAgIGl0ZW1XaWR0aDogMCwgICAgICAgICAgICAgICAgICAgLy97TkVXfSBJbnRlZ2VyOiBCb3gtbW9kZWwgd2lkdGggb2YgaW5kaXZpZHVhbCBjYXJvdXNlbCBpdGVtcywgaW5jbHVkaW5nIGhvcml6b250YWwgYm9yZGVycyBhbmQgcGFkZGluZy5cbiAgICBpdGVtTWFyZ2luOiAwLCAgICAgICAgICAgICAgICAgIC8ve05FV30gSW50ZWdlcjogTWFyZ2luIGJldHdlZW4gY2Fyb3VzZWwgaXRlbXMuXG4gICAgbWluSXRlbXM6IDEsICAgICAgICAgICAgICAgICAgICAvL3tORVd9IEludGVnZXI6IE1pbmltdW0gbnVtYmVyIG9mIGNhcm91c2VsIGl0ZW1zIHRoYXQgc2hvdWxkIGJlIHZpc2libGUuIEl0ZW1zIHdpbGwgcmVzaXplIGZsdWlkbHkgd2hlbiBiZWxvdyB0aGlzLlxuICAgIG1heEl0ZW1zOiAwLCAgICAgICAgICAgICAgICAgICAgLy97TkVXfSBJbnRlZ2VyOiBNYXhtaW11bSBudW1iZXIgb2YgY2Fyb3VzZWwgaXRlbXMgdGhhdCBzaG91bGQgYmUgdmlzaWJsZS4gSXRlbXMgd2lsbCByZXNpemUgZmx1aWRseSB3aGVuIGFib3ZlIHRoaXMgbGltaXQuXG4gICAgbW92ZTogMCwgICAgICAgICAgICAgICAgICAgICAgICAvL3tORVd9IEludGVnZXI6IE51bWJlciBvZiBjYXJvdXNlbCBpdGVtcyB0aGF0IHNob3VsZCBtb3ZlIG9uIGFuaW1hdGlvbi4gSWYgMCwgc2xpZGVyIHdpbGwgbW92ZSBhbGwgdmlzaWJsZSBpdGVtcy5cbiAgICBhbGxvd09uZVNsaWRlOiB0cnVlLCAgICAgICAgICAgLy97TkVXfSBCb29sZWFuOiBXaGV0aGVyIG9yIG5vdCB0byBhbGxvdyBhIHNsaWRlciBjb21wcmlzZWQgb2YgYSBzaW5nbGUgc2xpZGVcblxuICAgIC8vIENhbGxiYWNrIEFQSVxuICAgIHN0YXJ0OiBmdW5jdGlvbigpe30sICAgICAgICAgICAgLy9DYWxsYmFjazogZnVuY3Rpb24oc2xpZGVyKSAtIEZpcmVzIHdoZW4gdGhlIHNsaWRlciBsb2FkcyB0aGUgZmlyc3Qgc2xpZGVcbiAgICBiZWZvcmU6IGZ1bmN0aW9uKCl7fSwgICAgICAgICAgIC8vQ2FsbGJhY2s6IGZ1bmN0aW9uKHNsaWRlcikgLSBGaXJlcyBhc3luY2hyb25vdXNseSB3aXRoIGVhY2ggc2xpZGVyIGFuaW1hdGlvblxuICAgIGFmdGVyOiBmdW5jdGlvbigpe30sICAgICAgICAgICAgLy9DYWxsYmFjazogZnVuY3Rpb24oc2xpZGVyKSAtIEZpcmVzIGFmdGVyIGVhY2ggc2xpZGVyIGFuaW1hdGlvbiBjb21wbGV0ZXNcbiAgICBlbmQ6IGZ1bmN0aW9uKCl7fSwgICAgICAgICAgICAgIC8vQ2FsbGJhY2s6IGZ1bmN0aW9uKHNsaWRlcikgLSBGaXJlcyB3aGVuIHRoZSBzbGlkZXIgcmVhY2hlcyB0aGUgbGFzdCBzbGlkZSAoYXN5bmNocm9ub3VzKVxuICAgIGFkZGVkOiBmdW5jdGlvbigpe30sICAgICAgICAgICAgLy97TkVXfSBDYWxsYmFjazogZnVuY3Rpb24oc2xpZGVyKSAtIEZpcmVzIGFmdGVyIGEgc2xpZGUgaXMgYWRkZWRcbiAgICByZW1vdmVkOiBmdW5jdGlvbigpe30sICAgICAgICAgICAvL3tORVd9IENhbGxiYWNrOiBmdW5jdGlvbihzbGlkZXIpIC0gRmlyZXMgYWZ0ZXIgYSBzbGlkZSBpcyByZW1vdmVkXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7fSAgICAgICAgICAgICAvL3tORVd9IENhbGxiYWNrOiBmdW5jdGlvbihzbGlkZXIpIC0gRmlyZXMgYWZ0ZXIgdGhlIHNsaWRlciBpcyBpbml0aWFsbHkgc2V0dXBcbiAgfTtcblxuICAvL0ZsZXhTbGlkZXI6IFBsdWdpbiBGdW5jdGlvblxuICAkLmZuLmZsZXhzbGlkZXIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCkgb3B0aW9ucyA9IHt9O1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxuICAgICAgICAgICAgc2VsZWN0b3IgPSAob3B0aW9ucy5zZWxlY3RvcikgPyBvcHRpb25zLnNlbGVjdG9yIDogXCIuc2xpZGVzID4gbGlcIixcbiAgICAgICAgICAgICRzbGlkZXMgPSAkdGhpcy5maW5kKHNlbGVjdG9yKTtcblxuICAgICAgaWYgKCAoICRzbGlkZXMubGVuZ3RoID09PSAxICYmIG9wdGlvbnMuYWxsb3dPbmVTbGlkZSA9PT0gdHJ1ZSApIHx8ICRzbGlkZXMubGVuZ3RoID09PSAwICkge1xuICAgICAgICAgICRzbGlkZXMuZmFkZUluKDQwMCk7XG4gICAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnQpIG9wdGlvbnMuc3RhcnQoJHRoaXMpO1xuICAgICAgICB9IGVsc2UgaWYgKCR0aGlzLmRhdGEoJ2ZsZXhzbGlkZXInKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbmV3ICQuZmxleHNsaWRlcih0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEhlbHBlciBzdHJpbmdzIHRvIHF1aWNrbHkgcGVyZm9ybSBmdW5jdGlvbnMgb24gdGhlIHNsaWRlclxuICAgICAgdmFyICRzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ2ZsZXhzbGlkZXInKTtcbiAgICAgIHN3aXRjaCAob3B0aW9ucykge1xuICAgICAgICBjYXNlIFwicGxheVwiOiAkc2xpZGVyLnBsYXkoKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwYXVzZVwiOiAkc2xpZGVyLnBhdXNlKCk7IGJyZWFrO1xuICAgICAgICBjYXNlIFwic3RvcFwiOiAkc2xpZGVyLnN0b3AoKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJuZXh0XCI6ICRzbGlkZXIuZmxleEFuaW1hdGUoJHNsaWRlci5nZXRUYXJnZXQoXCJuZXh0XCIpLCB0cnVlKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwcmV2XCI6XG4gICAgICAgIGNhc2UgXCJwcmV2aW91c1wiOiAkc2xpZGVyLmZsZXhBbmltYXRlKCRzbGlkZXIuZ2V0VGFyZ2V0KFwicHJldlwiKSwgdHJ1ZSk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwibnVtYmVyXCIpICRzbGlkZXIuZmxleEFuaW1hdGUob3B0aW9ucywgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufSkoalF1ZXJ5KTtcblxuXG5cblxuLy8gSW5jbHVkZSBQcm9qZWN0IFBsdWdpbnNcbnZhciBuYW1lID0gXCJBIGpRdWVyeSBQbHVnaW5cIjtcblxuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
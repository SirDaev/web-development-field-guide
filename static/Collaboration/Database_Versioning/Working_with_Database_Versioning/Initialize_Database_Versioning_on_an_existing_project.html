<!DOCTYPE html>
<!--[if lt IE 7]>       <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>          <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>          <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>Initialize Database Versioning on an existing project</title>
    <meta name="description" content="" />
    <meta name="author" content="Roland LÃ¶sslein">
    <link rel="icon" href="../../../templates/weaintplastic/themes/daux-weaintplastic/" type="image/x-icon">
    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    <link href='//fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700&subset=latin,cyrillic-ext,cyrillic' rel='stylesheet' type='text/css'><link href='http://fonts.googleapis.com/css?family=Varela+Round' rel='stylesheet' type='text/css'>
    <!-- CSS -->
    <link href='../../../templates/weaintplastic/themes/daux-weaintplastic/css/daux-weaintplastic.css' rel='stylesheet' type='text/css'>
</head>
<body>
            <!-- Docs -->
                <div class="container-fluid fluid-height wrapper">
            <div class="navbar navbar-fixed-top hidden-print">
                <div class="container-fluid">
                    <a class="brand navbar-brand" href="../../../Outline"><span>Web Development Field Guide</span></a>
                </div>
            </div>
            <div class="row columns content">
                <div class="left-column article-tree col-sm-3 hidden-print">
                    <!-- For Mobile -->
                    <div class="responsive-collapse">
                        <button type="button" class="btn btn-sidebar" id="menu-spinner-button">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                    </div>
                    <div id="sub-nav-collapse" class="sub-nav-collapse">
                        <!-- Navigation -->
                        <ul class="nav nav-list"><li><a href="../../../Outline.html">Outline</a></li><li><a href="#" class="aj-nav folder">Environment</a><ul class="nav nav-list"><li><a href="../../../Environment/Local_Development_Environment/index.html" class="folder">Local Development Environment</a><ul class="nav nav-list"><li><a href="../../../Environment/Local_Development_Environment/Xampp_&_Mamp.html">Xampp & Mamp</a></li><li><a href="../../../Environment/Local_Development_Environment/Vagrant.html">Vagrant</a></li></ul></li><li><a href="../../../Environment/Tools_and_Software.html">Tools and Software</a></li></ul></li><li><a href="#" class="aj-nav folder">Development</a><ul class="nav nav-list"><li><a href="../../../Development/Frontend_Development/index.html" class="folder">Frontend Development</a><ul class="nav nav-list"><li><a href="#" class="aj-nav folder">Setting up your project</a><ul class="nav nav-list"><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/The_Project_Ecosystem.html">The Project Ecosystem</a></li><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Dependency_Managers/index.html" class="folder">Setup Dependency Managers</a><ul class="nav nav-list"><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Dependency_Managers/Node_Package_Manager/index.html" class="folder">Node Package Manager</a><ul class="nav nav-list"><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Dependency_Managers/Node_Package_Manager/Install_NPM.html">Install NPM</a></li><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Dependency_Managers/Node_Package_Manager/Initialize_NPM_on_a_new_project.html">Initialize NPM on a new project</a></li><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Dependency_Managers/Node_Package_Manager/Initialize_NPM_on_an_existing_project.html">Initialize NPM on an existing project</a></li></ul></li><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Dependency_Managers/Bower/index.html" class="folder">Bower</a><ul class="nav nav-list"><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Dependency_Managers/Bower/Install_Bower.html">Install Bower</a></li><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Dependency_Managers/Bower/Initialize_Bower_on_a_new_Project.html">Initialize Bower on a new Project</a></li><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Dependency_Managers/Bower/Initialize_Bower_on_an_existing_Project.html">Initialize Bower on an existing Project</a></li><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Dependency_Managers/Bower/Add_dependencies_with_Bower.html">Add dependencies with Bower</a></li></ul></li><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Dependency_Managers/Composer/index.html" class="folder">Composer</a><ul class="nav nav-list"><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Dependency_Managers/Composer/Install_Composer.html">Install Composer</a></li><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Dependency_Managers/Composer/Initialize_Composer_on_a_new_Project.html">Initialize Composer on a new Project</a></li><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Dependency_Managers/Composer/Initialize_Composer_on_an_existing_Project.html">Initialize Composer on an existing Project</a></li></ul></li></ul></li><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Build_System/index.html" class="folder">Setup Build System</a><ul class="nav nav-list"><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Build_System/Setup_Gulp.html">Setup Gulp</a></li><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Build_System/A_simple_Gulp_build_script.html">A simple Gulp build script</a></li><li><a href="../../../Development/Frontend_Development/Setting_up_your_project/Setup_Build_System/A_complex_Gulp_build_script.html">A complex Gulp build script</a></li></ul></li></ul></li><li><a href="#" class="aj-nav folder">Writing CSS</a><ul class="nav nav-list"><li><a href="../../../Development/Frontend_Development/Writing_CSS/Use_preprocessors.html">Use preprocessors</a></li><li><a href="../../../Development/Frontend_Development/Writing_CSS/Write_Object_Oriented_CSS.html">Write Object Oriented CSS</a></li><li><a href="../../../Development/Frontend_Development/Writing_CSS/Follow_a_Naming_Convention.html">Follow a Naming Convention</a></li><li><a href="../../../Development/Frontend_Development/Writing_CSS/Structure_your_CSS.html">Structure your CSS</a></li><li><a href="../../../Development/Frontend_Development/Writing_CSS/Go_mobile_first.html">Go mobile first</a></li><li><a href="../../../Development/Frontend_Development/Writing_CSS/Use_feature_detection.html">Use feature detection</a></li><li><a href="../../../Development/Frontend_Development/Writing_CSS/Use_3rd_Party_Code_and_Frameworks.html">Use 3rd Party Code and Frameworks</a></li></ul></li><li><a href="#" class="aj-nav folder">Writing Javascript</a><ul class="nav nav-list"><li><a href="../../../Development/Frontend_Development/Writing_Javascript/Write_Object_Oriented_Javascript.html">Write Object Oriented Javascript</a></li><li><a href="../../../Development/Frontend_Development/Writing_Javascript/Write_jQuery_Plugins.html">Write jQuery Plugins</a></li><li><a href="../../../Development/Frontend_Development/Writing_Javascript/Structure_your_Javascript.html">Structure your Javascript</a></li><li><a href="../../../Development/Frontend_Development/Writing_Javascript/Optimize_your_Javascript.html">Optimize your Javascript</a></li><li><a href="../../../Development/Frontend_Development/Writing_Javascript/Use_3rd_Party_Code_and_Frameworks.html">Use 3rd Party Code and Frameworks</a></li></ul></li><li><a href="#" class="aj-nav folder">Writing HTML</a><ul class="nav nav-list"><li><a href="../../../Development/Frontend_Development/Writing_HTML/Provide_static_templates.html">Provide static templates</a></li><li><a href="../../../Development/Frontend_Development/Writing_HTML/Structure_your_HTML.html">Structure your HTML</a></li><li><a href="../../../Development/Frontend_Development/Writing_HTML/Provide_Styleguides.html">Provide Styleguides</a></li></ul></li></ul></li></ul></li><li class="open"><a href="../../../Collaboration/index.html" class="folder">Collaboration</a><ul class="nav nav-list"><li><a href="#" class="aj-nav folder">Working with Git</a><ul class="nav nav-list"><li><a href="#" class="aj-nav folder">Git Workflow</a><ul class="nav nav-list"><li><a href="../../../Collaboration/Working_with_Git/Git_Workflow/The_Concept_of_Gitflow.html">The Concept of Gitflow</a></li><li><a href="../../../Collaboration/Working_with_Git/Git_Workflow/Working_with_Gitflow.html">Working with Gitflow</a></li><li><a href="../../../Collaboration/Working_with_Git/Git_Workflow/Gitflow_with_Sourctree.html">Gitflow with Sourctree</a></li><li><a href="../../../Collaboration/Working_with_Git/Git_Workflow/FAQ.html">FAQ</a></li></ul></li><li><a href="../../../Collaboration/Working_with_Git/Git_Conflict_Sloving.html">Git Conflict Sloving</a></li></ul></li><li class="open"><a href="#" class="aj-nav folder">Database Versioning</a><ul class="nav nav-list"><li><a href="../../../Collaboration/Database_Versioning/The_Concept_of_Database_Versioning.html">The Concept of Database Versioning</a></li><li class="open"><a href="../../../Collaboration/Database_Versioning/Working_with_Database_Versioning/index.html" class="folder">Working with Database Versioning</a><ul class="nav nav-list"><li><a href="../../../Collaboration/Database_Versioning/Working_with_Database_Versioning/Initialize_Database_Versioning_on_a_new_project.html">Initialize Database Versioning on a new project</a></li><li class="active"><a href="../../../Collaboration/Database_Versioning/Working_with_Database_Versioning/Initialize_Database_Versioning_on_an_existing_project.html">Initialize Database Versioning on an existing project</a></li><li><a href="../../../Collaboration/Database_Versioning/Working_with_Database_Versioning/Working_with_migrations/index.html" class="folder">Working with migrations</a><ul class="nav nav-list"><li><a href="../../../Collaboration/Database_Versioning/Working_with_Database_Versioning/Working_with_migrations/Create_a_Migration_File.html">Create a Migration File</a></li><li><a href="../../../Collaboration/Database_Versioning/Working_with_Database_Versioning/Working_with_migrations/Status_of_your_database.html">Status of your database</a></li><li><a href="../../../Collaboration/Database_Versioning/Working_with_Database_Versioning/Working_with_migrations/Upgrade_your_database.html">Upgrade your database</a></li><li><a href="../../../Collaboration/Database_Versioning/Working_with_Database_Versioning/Working_with_migrations/Downgrade_your_database.html">Downgrade your database</a></li></ul></li></ul></li></ul></li></ul></li><li><a href="#" class="aj-nav folder">Testing</a><ul class="nav nav-list"><li><a href="#" class="aj-nav folder">Frontend Testing</a><ul class="nav nav-list"><li><a href="../../../Testing/Frontend_Testing/Testing_Strategy.html">Testing Strategy</a></li><li><a href="../../../Testing/Frontend_Testing/Cross-Browser_Testing.html">Cross-Browser Testing</a></li><li><a href="../../../Testing/Frontend_Testing/Cross-Device_Testing.html">Cross-Device Testing</a></li><li><a href="../../../Testing/Frontend_Testing/Styleguide-Driven_Testing.html">Styleguide-Driven Testing</a></li><li><a href="../../../Testing/Frontend_Testing/Automated_Testing.html">Automated Testing</a></li></ul></li></ul></li><li><a href="../../../Deployment.html">Deployment</a></li><li><a href="#" class="aj-nav folder">Documentation</a><ul class="nav nav-list"><li><a href="../../../Documentation/Documentation_with_README.md.html">Documentation with README</a></li><li><a href="../../../Documentation/Documentation_with_Styleguides.html">Documentation with Styleguides</a></li><li><a href="../../../Documentation/Share_Project_Credentials.html">Share Project Credentials</a></li></ul></li><li><a href="../../../Optimization.html">Optimization</a></li></ul>                                                    <div class="well well-sidebar">

                                <!-- Links -->
                                <a href="https://twitter.com/weaintplastic" target="_blank">Follow @weaintplastic</a><br>                                
                                <!-- Twitter -->
                                                            </div>
                                            </div>
                </div>
                <div class="right-column  content-area col-sm-9">
                    <div class="content-page col-lg-offset-2 col-lg-8">
                        <article>
                                                            <div class="page-header sub-header clearfix">
                                    <h1>Initialize Database Versioning on an existing project                                                                            </h1>
                                    <span style="float: left; font-size: 10px; color: gray;">
                                        Tuesday, June 16, 2015                                    </span>
                                    <span style="float: right; font-size: 10px; color: gray;">
                                        7:11 AM                                    </span>
                                </div>
                            
                            <p>When joining a ongoing project there are some simple steps you need to follow in order to setup the database versioning workflow on your local machine.</p>
<h3>Install Phinx</h3>
<p>Joining a project that was prepared for database versioning, you'll find Phinx as a dependency in the Composer manifest file. Following the process of setting up a project, you'll install Phinx automatically when <a href="./Development/Frontend_Development/Setting_up_your_project/Setup_Dependency_Managers/Composer/Initialize_Composer_on_an_existing_Project">installing all Composer dependencies</a>. As a reminder, you have execute the following statement in your project root on your command line:</p>
<pre><code>composer install</code></pre>
<p>Composer will install Phinx and its dependencies for you and you are good to move on.</p>
<h3>Build your database</h3>
<p>You should find a <code>schema.sql</code> and a <code>data.sql</code> in the <code>/db</code> folder of the project you recently cloned on your local machine. In order to setup your database, create a new database for you project, and import first <code>schema.sql</code> and then <code>data.sql</code>. Your database fundament is now set.</p>
<h3>Initialize Phinx</h3>
<p>Use your command line tool, navigate to the project root and execute the following statement</p>
<pre><code>php vendor/bin/phinx init</code></pre>
<p>This comman will create a <code>phinx.yml</code> file in your project root. It is the descriptor file for Phinx holding the neccessary information to work on the databases of different environments</p>
<pre><code>paths:
    migrations: %%PHINX_CONFIG_DIR%%/migrations

environments:
    default_migration_table: phinxlog
    default_database: development
    production:
        adapter: mysql
        host: localhost
        name: production_db
        user: root
        pass: ''
        port: 3306
        charset: utf8

    development:
        adapter: mysql
        host: localhost
        name: development_db
        user: root
        pass: ''
        port: 3306
        charset: utf8

    testing:
        adapter: mysql
        host: localhost
        name: testing_db
        user: root
        pass: ''
        port: 3306
        charset: utf8</code></pre>
<p>Since we want to keep things ordered, first thing you should do is to create a directory called <code>db</code> in your project root and update the migration path of Phinx in the <code>phinx.yml</code> file:</p>
<pre><code>paths:
    migrations: %%PHINX_CONFIG_DIR%%/db/migrations</code></pre>
<p>Now you should update the <code>development</code> environment database credentials in order to start working with the database of your local development environemnt.
Working with the <a href="./Environment/Local_Development_Environment/Vagrant">Vagrant Box</a>, your configuration might look like this:</p>
<pre><code>development:
    adapter: mysql
    host: 127.0.0.1
    name: versioning-demo
    user: root
    pass: 'root'
    port: 3306
    charset: utf8</code></pre>
<h3>Upgrade your database</h3>
<p>Depending on how many migrations were written after the last <code>schema.sql</code> and <code>data.sql</code> dumps were created, you probably need to upgrade your database. In order to get an overview of the current state of your database you should first <a href="./Collaboration/Database_Versioning/Working_with_Database_Versioning/Working_with_migrations/Status_of_your_database">check the status</a> and then perform an <a href="./Collaboration/Database_Versioning/Working_with_Database_Versioning/Working_with_migrations/Upgrade_your_database">upgrade on your database</a>.</p>                                                    </article>
                    </div>
                </div>
            </div>
        </div>
    
        

    <!-- jQuery -->
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script>
            if (typeof jQuery == 'undefined')
                document.write(unescape("%3Cscript src='../../../js/jquery-1.11.0.min.js' type='text/javascript'%3E%3C/script%3E"));
        </script>
    
    <!-- hightlight.js -->
    <script src="../../../js/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- JS -->
    
    <!-- Front end file editor -->
        <script src="../../../js/custom.js"></script>
    <!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

</body>
</html>

